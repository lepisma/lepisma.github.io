<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2022-08-14 Sun 11:20 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Blurring Text</title>
<meta name="author" content="Abhinav Tushar" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link rel="stylesheet" type="text/css" href="/assets/css/pace.css" />
<link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css" />
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,800" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono" >
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="/assets/js/pace.min.js"></script>
<script src="/assets/js/jquery.zoomooz.min.js"></script>
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/assets/favicons/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/favicons/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/favicons/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/favicons/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/assets/favicons/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/assets/favicons/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/assets/favicons/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/favicons/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-128.png" sizes="128x128" />
<meta name="application-name" content="&nbsp;" />
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="/assets/favicons/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="/assets/favicons/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="/assets/favicons/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="/assets/favicons/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="/assets/favicons/mstile-310x310.png" />
<script defer data-domain="lepisma.xyz" src="https://plausible.io/js/plausible.js"></script>
<script src="./script.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://unpkg.com/popper.js@1"></script>
<script src="https://unpkg.com/tippy.js@4"></script>
<link rel="stylesheet" href="./style.css" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="preamble" class="status">
<header>
  <div class='site-title'>
    <a href='/'>
      <img src='/assets/images/avatar32.png'>
    </a>
  </div>
  <div class='site-nav'>
    <a class='active' href='/'> blog</a>
    <a  href='/journal'> journal</a>
    <a  href='/log'> log</a>
    <a  href='/wiki'> wiki</a>
    <a href='/about'> about</a>
  </div>
  <div class='clearfix'></div>
</header>

<div class='page-header'>
  <div class='page-meta'>2019-04-09 Tue 00:00</div>
  <h1>Blurring Text</h1>
</div>
</div>
<div id="content" class="content">
<div class='page-tags'><a href='../../../..#exploration'>exploration</a> <a href='../../../..#ml'>ml</a></div>
<p>
<span class='dropcap'>W</span>hile sweeping through my old notes, I found an entry with one line of text:
<i>blurring for text, like we do for images</i>. I should have written something
more, but I think the idea was to have an operation similar to blurring for text
and see what it might <i>mean</i>. The general theme in image blurring is something
along the lines of 'bringing ambiguity in the roles of the constituents', i.e.,
the pixels. This, if continued, makes it hard to perceive the semantics of the
image.
</p>

<aside id="org96dec45">
<p>
On a side note, the semantics is pretty use-case dependent. On a given day, even
the second image works. On another day, you might start thinking whether the
first image really is a burrito or something else, like a frankie.
</p>
</aside>


<figure id="org1d817bc">
<img src="./burrito.png" alt="burrito.png">

<figcaption><span class="figure-number">Figure 1: </span>A burrito fading into meaninglessness</figcaption>
</figure>

<p>
The important point though is that even with the blurred pixels we still try to
get some projection into the semantics. Let's try to do the same for text.
</p>

<p>
Here is the text that I picked for an example, randomly<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>. This
is (are) first (few) line(s) from the wikipedia page on
<a href="https://en.wikipedia.org/wiki/Animal">Animal</a> after removing punctuation.
</p>

<pre class="example" id="org9461c8e">
Animals are multicellular eukaryotic organisms that form the biological kingdom
Animalia With few exception animals consume organic material breathe oxygen are
able to move reproduce sexually and grow from a hollow sphere of cells the
blastula during embryonic development
</pre>

<div id="outline-container-sec-attempt-#1" class="outline-2">
<h2 id="sec-attempt-#1"><span class="section-number-2">1.</span> Attempt #1</h2>
<div class="outline-text-2" id="text-sec-attempt-#1">


<p>
Using the usual weighted sum of neighbour approach, we can try applying a one
dimensional kernel to word vectors which should give smoothened vector for each
word.
</p>

<p>
I am taking \(w = 3\) and my kernel looks like \([\frac{\alpha}{2}, (1 - \alpha),
\frac{\alpha}{2}]\). For values of \(\alpha\) like \(0.0, 0.1, 0.2, \ldots 1.0\), the
next few paragraphs show the smoothened outputs. Note that I did not touch the
edges so the first and last words are going to be intact.
</p>

<p>
If you have JavaScript enabled, you can see a bit more by hovering over the
words. The face color of each word <sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup> defines the closeness with smoothened vector at that place. This is
important since we are trying to impose meaning by projecting the vector on
symbols where there might be none really. On hovering you can see top 3 closest
projections along with cosine similarity with the smooth vector.
</p>

<p>
Also, <font style="background-color: yellow"> yellow</font> highlights word positions and <span class="underline">underline</span>
highlights same words across all the cases.
</p>

<p>
\(\alpha = 0.0\)
</p>

<pre class="example" id="org5f2f6a1">
Animals are multicellular eukaryotic organisms that form the biological kingdom
Animalia With few exception animals consume organic material breathe oxygen are
able to move reproduce sexually and grow from a hollow sphere of cells the
blastula during embryonic development
</pre>

<p>
\(\alpha = 0.1\)
</p>

<pre class="example" id="org69c7ccf">
Animals are multicellular eukaryotic organisms that form the biological kingdom
Animalia With few exception animals consume organic material breathe oxygen are
able to move reproduce sexually and grow from a hollow sphere of cells the
blastula during embryonic development
</pre>

<p>
\(\alpha = 0.2\)
</p>

<pre class="example" id="org9e8ce8e">
Animals are multicellular eukaryotic organisms that form the biological kingdom
Animalia With few exception animals consume organic material breathe oxygen are
able to move reproduce sexually and grow from a hollow sphere of cells the
blastula during embryonic development
</pre>

<p>
\(\alpha = 0.3\)
</p>

<pre class="example" id="org2194572">
Animals are multicellular eukaryotic organisms that form the biological kingdom
Animalia With few exception animals consume organic material breathe oxygen are
able to move reproduce sexually and grow from a hollow sphere of cells the
blastula during embryonic development
</pre>

<p>
\(\alpha = 0.4\)
</p>

<pre class="example" id="org88a81f3">
Animals are multicellular eukaryotic organisms that form the biological kingdom
Animalia With few few animals consume organic material breathe oxygen are able
to move reproduce sexually and grow a a a sphere of cells the blastula during
embryonic development
</pre>

<p>
\(\alpha = 0.5\)
</p>

<pre class="example" id="org8d80bb8">
Animals are are eukaryotic organisms that form the the kingdom Animalia With few
few animals consume organic material breathe oxygen are able to move reproduce
sexually and grow a a a of of of the the during embryonic development
</pre>

<p>
\(\alpha = 0.6\)
</p>

<pre class="example" id="org3fe3f87">
Animals are are eukaryotic organisms that the the the kingdom Animalia With few
few animals consume organic organic oxygen are are to to to reproduce sexually
and grow a a a of of of the the during embryonic development
</pre>

<p>
\(\alpha = 0.7\)
</p>

<pre class="example" id="orgbdaea0b">
Animals are are multicellular that form the the the kingdom With few few few
consume animals organic organic oxygen are are to to to move and grow and a a a
of of of cells the embryonic during development
</pre>

<p>
Next few \(\alpha\) values are kind of different since the center vector has lesser
weights than neighbours.
</p>

<p>
\(\alpha = 0.8\)
</p>

<pre class="example" id="orgc4c8206">
Animals Animals are organisms that form the form the Animalia With few With few
consume animals consume organic oxygen are able to to to move and grow and a a a
of cells of cells the embryonic during development
</pre>

<p>
\(\alpha = 0.9\)
</p>

<pre class="example" id="orgc5ba682">
Animals Animals are organisms that form the form the Animalia With few With few
consume organic consume breathe oxygen are able to able to move and grow and a
from a of cells of cells the embryonic during development
</pre>

<p>
\(\alpha = 1.0\)
</p>

<pre class="example" id="org87e3207">
Animals Animals are organisms that form the form the Animalia With few With few
consume organic consume breathe oxygen are able to able to move and grow from a
from a of cells of cells the embryonic during development
</pre>

<p>
Other than virtually nothing, you can notice a few specific words going away,
like the add-ons in burrito. Nothing interesting happens as far as new words'
introduction is concerned. A few words like <code>of</code>, <code>a</code>, <code>few</code> etc. are easily
repeated and look pretty resilient and imposing (?) in a certain sense.
</p>

<p>
Much of these can be directly attributed to training corpus. For example, if the
weighted average turns out to be around <i>something else</i>, you will start getting
new words. Better question probably is if similar degradations (which looks
similar to the case with image) are to be found across training sets/methods.
</p>
</div>
</div>

<div id="outline-container-sec-attempt-#2" class="outline-2">
<h2 id="sec-attempt-#2"><span class="section-number-2">2.</span> Attempt #2</h2>
<div class="outline-text-2" id="text-sec-attempt-#2">


<p>
I wonder how these mixings in spaces can be connected with our understanding of
semantics. Working in the vector space is all nice and good&#x2014;in fact smoothing
with an all \(1/|k|\) kernel is what people use for basic document
vectorization&#x2014;but what about their projections into symbol space? A few cases
like analogies are commonly understood, but there are probably other interesting
cases coming from the side of human usage of language.
</p>

<p>
This mixing of representations is not very uncommon, both computationally (of
course) and in regular usage. Look around various kinds of speech disfluencies
<sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup>. Freudian
slips?
</p>

<p>
Another interesting piece is the progression of semantic degradations as we push
mixing in certain direction. What are the washed out colors in the last blurred
burritos image? Do we have an equivalent in higher order constituents like
words?
</p>

<p>
I will probably not touch this exact thread, but hope to get on something
similar in some time.
</p>

<hr>

<p>
Some notes on the vectors used for generating this. I had the
<code>wiki-news-300d-1M-subword.vec.zip</code> <a href="https://fasttext.cc/docs/en/english-vectors.html">from fastext</a> lying around so loaded that up in
gensim. The top-3 word lookup was done using gensim's default implementation.
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">This might be a
decent sample since there are normal, as well as niche words in the text.</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">This is a bit hand wavy specially since
I cherry picked the color scale; Check out the distances for something more
meaningful</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">This is a stretch as far as mixing is concerned, but there probably are
things here that can be modelled in our computational vector spaces</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<footer id='footer'></footer>
</div>
</body>
</html>
