<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2025-02-22 Sat 16:24 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ricing up Org Mode</title>
<meta name="author" content="Abhinav Tushar" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="/assets/css/pace.css" />
<link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css" />
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,800" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono" >
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="/assets/js/pace.min.js"></script>
<script src="/assets/js/jquery.zoomooz.min.js"></script>
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/assets/favicons/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/favicons/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/favicons/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/favicons/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/assets/favicons/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/assets/favicons/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/assets/favicons/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/favicons/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-128.png" sizes="128x128" />
<meta name="application-name" content="&nbsp;" />
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="/assets/favicons/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="/assets/favicons/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="/assets/favicons/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="/assets/favicons/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="/assets/favicons/mstile-310x310.png" />
<script defer data-domain="lepisma.xyz" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
<div id="preamble" class="status">
<header>
  <div class='site-title'>
    <a href='/'>
      <img src='/assets/images/avatar32.png'>
    </a>
  </div>
  <div class='site-nav'>
    <a class='active' href='/'> blog</a>
    <a  href='/journal'> journal</a>
    <a  href='/log'> <s>log</s></a>
    <a  href='/wiki'> wiki</a>
    <a href='/about'> about</a>
    <a href='/wiki/support.html' class='btn small primary'>$ support </a>
  </div>
  <div class='clearfix'></div>
</header>

<div class='page-header'>
  <div class='page-meta'>2017-10-28 Sat 00:00</div>
  <h1>Ricing up Org Mode</h1>
</div>
</div>
<div id="content" class="content">
<div class='page-tags'><a href='../../../..#emacs'>emacs</a> <a href='../../../..#org-mode'>org-mode</a> <a href='../../../..#ricing'>ricing</a> <a href='../../../..#ux'>ux</a></div>
<p>
<span class='dropcap'>T</span>his is a short post pulling in <a href="https://www.reddit.com/r/unixporn/comments/73vwpa/stumpwm_light_colors_with_purple_accent/dnvqwt8/?context=1">my comment</a> on a /r/unixporn submission where I
document my Org mode dotfiles for a word processor like interface. The aim is to
recreate a <a href="https://www.reddit.com/r/unixporn/comments/6lj3h3/stumpwmkde_emacs_org_mode_writing_setup/">rice</a> I submitted on /r/unixporn some time back. Shown below is a demo
of what the thing actually looks like.
</p>

<aside id="orged9052d">
<p>
Following screencast shows the setup in action.
</p>


<figure style="margin: 0">
  <video controls width="100%"><source src="./screencast.mp4" type="video/mp4" /></video>
</figure>
</aside>


<figure id="org68cb781">
<img src="./demo.png" alt="demo.png" class="zoomTarget" data-closeclick="true">

</figure>

<p>
The look is inspired from the style used by <a href="https://edwardtufte.github.io/et-book">Edward Tufte</a> in his books. A
replication of the style in CSS is up on github for free at <a href="https://edwardtufte.github.io/tufte-css/">tufte-css</a>. Other
than the proper spacing and margins, the thing that I like in Tufte's style is
the font <a href="https://edwardtufte.github.io/et-book">ET Book</a> which is an old-style serif font with beautiful <i>italics</i>.
</p>


<figure id="orgfed4b3d">
<img src="./et-book.png" alt="et-book.png" class="zoomTarget" data-closeclick="true">

<figcaption><span class="figure-number">Figure 2: </span>Et Book font</figcaption>
</figure>

<hr>

<p>
To start, we need a nice looking light color scheme so that faces other than
that of Org mode look decent. I selected <a href="https://github.com/nashamri/spacemacs-theme">spacemacs-light</a> mostly because I use
spacemacs and it is pretty complete as far as number of faces covered is
concerned. Also, it has a good off-white background (<code>#fbf8ef</code>). There are three
basic steps involved from here:
</p>

<ul class="org-ul">
<li>Setting faces and themes</li>
<li>Padding and stuff</li>
<li>Other Org-mode visual and usability tweaks</li>
</ul>
<div id="outline-container-sec-faces" class="outline-2">
<h2 id="sec-faces"><span class="section-number-2">1.</span> Faces</h2>
<div class="outline-text-2" id="text-sec-faces">

<p>
We will set Et Book (named <code>EtBembo</code>) font to most of the org mode. Get the font
<a href="https://github.com/edwardtufte/et-book">here</a>. If you are using spacemacs, the easy way is to use the <code>theming</code> layer in
spacemacs to set faces. My face config are available <a href="https://github.com/lepisma/rogue/blob/75ab1c3422b409f41daa4c003b931e869eed0914/config.el#L205">here</a>. For each face, the
second set of properties are for the light theme (spacemacs-light). I have set
the <code>variable-pitch</code> font to be <code>EtBembo</code> (along with title and stuff) and enable
<code>variable-pitch-mode</code> when in an org buffer.
</p>

<p>
Note that unlike other face settings, <code>org-indent</code>'s <code>(:inherit (org-hide
fixed-pitch))</code> has a crucial effect of aligning text under Org heading in a
non-monospace font, so you might not want to miss that.
</p>
</div>
</div>
<div id="outline-container-sec-padding" class="outline-2">
<h2 id="sec-padding"><span class="section-number-2">2.</span> Padding</h2>
<div class="outline-text-2" id="text-sec-padding">

<p>
There are a few places where you can gain some breathing space.
</p>

<ul class="org-ul">
<li><p>
<i>Line spacing</i>
</p>

<p>
Per buffer line spacing can be set using the variable <code>line-spacing</code>. Something
like 0.1 goes well here.
</p></li>

<li><p>
<i>Top padding</i>
</p>

<p>
Similar to <code>mode-line</code>, Emacs also has <code>header-line</code> for windows. Setting its
format to empty string <code>(setq header-line-format " ")</code> gives you top padding.
Also by changing header-line face height, you can change this spacing.
</p></li>

<li><p>
<i>Side padding</i>
</p>

<p>
Adding side spaces is possible by setting margin width. You also need to reset
the buffer to make the change visible. Here is a function that does that:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-2">()</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">progn</span>
  <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> left-margin-width 2<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> right-margin-width 2<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-rainbow-delimiters-depth-3">(</span>set-window-buffer nil <span class="org-rainbow-delimiters-depth-4">(</span>current-buffer<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div></li>
</ul>

<p>
If you need padding all around the frame so that everything (including
mode-line) goes inside the padded view, you can set <code>internal-border-width</code>.
</p>

<p>
You can also try <a href="https://github.com/joostkremers/writeroom-mode">writeroom-mode</a> which makes the writing buffer cleaner and has
settings for many of the padding related stuff. One neat feature is that it
makes the buffer text centered and hides mode line. I don't use it much since my
current settings reproduce pretty much what I need from it. Nevertheless, <a href="https://github.com/lepisma/rogue/blob/75ab1c3422b409f41daa4c003b931e869eed0914/packages.el#L264-L287">here
is some config</a> for writeroom.
</p>
</div>
</div>
<div id="outline-container-sec-other-tweaks" class="outline-2">
<h2 id="sec-other-tweaks"><span class="section-number-2">3.</span> Other tweaks</h2>
<div class="outline-text-2" id="text-sec-other-tweaks">

<p>
Whatever information your mode line might be displaying, most likely it can be
turned off if you are aiming for a distraction free setup. Spacemacs provide a
minor mode <code>hidden-mode-line-mode</code> to hide the mode line, which can be added to
your org hook. Some other minor settings follow:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> org-startup-indented t
      org-bullets-bullet-list '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">" "</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">no bullets, needs org-bullets package</span>
      org-ellipsis <span class="org-string">" &#61703; "</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">folding symbol</span>
      org-pretty-entities t
      org-hide-emphasis-markers t
      <span class="org-comment-delimiter">;; </span><span class="org-comment">show actually italicized text instead of /italicized text/</span>
      org-agenda-block-separator <span class="org-string">""</span>
      org-fontify-whole-heading-line t
      org-fontify-done-headline t
      org-fontify-quote-and-verse-blocks t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
Also try disabling <code>hl-line-mode</code> in org-mode as varying line heights make these
highlights look bad. Install <a href="https://github.com/Fuco1/org-pretty-table">org-pretty-table-mode</a> for getting beautiful table
borders. Other stuff like latex (<code>org-latex-toggle-fragment</code>) and image previews
(<code>org-image-toggle-inline</code>) come bundled in with org.
</p>

<p>
<a href="https://github.com/lepisma/rogue/tree/75ab1c3422b409f41daa4c003b931e869eed0914">Here</a> is the snapshot of my Emacs dotfiles with config related to this post.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer id='footer'></footer>
</div>
</body>
</html>
