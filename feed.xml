<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>abhinav tushar</title>
    <description>Personal Blog</description>
    <link>https://lepisma.github.io//</link>
    <atom:link href="https://lepisma.github.io//feed.xml" rel="self" type="application/rss+xml" />
    
      <item>
        <title>Blog 、 wiki</title>
        <description>&lt;p class=&quot;post-intro&quot;&gt;
Maintaining a blog has certain disadvantages, mostly due to linearity of post
timeline and its apparent permanence. I am making a switch to a wiki which
provides much more freedom and makes the texts and corrections flow much more
fluently.
&lt;/p&gt;
&lt;!--more--&gt;

&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;E&lt;/span&gt;ver since I started this blog, every post has made
me rethink the purpose of the whole blog. Sometimes I have been putting personal
experiences, other times half baked opinions. A few times, I have pushed because
there was nothing in here for a long time. Even more than these organizational
issues, the idea of having a &lt;em&gt;conclusion&lt;/em&gt;, with a timestamp, is something which
keeps the blog from working &lt;em&gt;along with me&lt;/em&gt;. Not that I have a pandora box to
open, but I do have a bunch of perpetually partially complete pieces scattered
around which dont fit in a blog.&lt;/p&gt;

&lt;p&gt;A personal publishing system should work well with my workflow which is
(usually) less driven by deadlines/checkpoints and more by explorations.&lt;/p&gt;

&lt;h1 id=&quot;a-personal-wiki&quot;&gt;A personal wiki&lt;/h1&gt;

&lt;p&gt;After some scripting to try and improve the content generation pipeline for this
blog recently, I realized that I probably am recreating everything org-mode
already provides. Even more, I already have a bunch of org files sitting around.&lt;/p&gt;

&lt;p&gt;So I am now moving to an org mode based personal wiki. Not very wiki like and
just a pile of files which lives at &lt;a href=&quot;/pile&quot;&gt;/pile&lt;/a&gt;. The &lt;code class=&quot;highlighter-rouge&quot;&gt;pile&lt;/code&gt; is fundamentally
a place to log things in the process of gathering and playing around with
knowledge of any kind. This makes it more of an assistive tool for myself than
anyone else. Using org mode helps a lot in this &lt;em&gt;selfish&lt;/em&gt; endeavor because of
&lt;a href=&quot;https://orgmode.org/worg/org-contrib/babel/&quot;&gt;org-babel&lt;/a&gt; (for authoring code
based pages) and &lt;a href=&quot;https://orgmode.org/manual/Publishing.html&quot;&gt;org-publish&lt;/a&gt; (for
publishing the whole pile to the web). I will most probably have a page
documenting my setup once it reaches a decent level with enough differences from
other org-publish tutorials on the web.&lt;/p&gt;

&lt;aside&gt;
  &lt;p&gt;In case you tend to have a bunch of jupyter notebooks with just explorations, &lt;a href=&quot;/2016/11/02/org-babel/&quot;&gt;I
highly recommend&lt;/a&gt; looking at org-babel.&lt;/p&gt;
&lt;/aside&gt;

&lt;p&gt;Here are some of the items that I am thinking of
putting up in my pile:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Notes from readings.&lt;/li&gt;
  &lt;li&gt;Problems I would like to know answers to and incremental solutions as I get
time to work on those.&lt;/li&gt;
  &lt;li&gt;Reading lists and other similar aggregations which are right now floating
around in separate repositories.&lt;/li&gt;
  &lt;li&gt;Some miscellaneous writings.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Some contents still belong in a blog post (and they will come out as and when
needed), but many ideas are fundamentally evolving and they need a lot more than
just a bunch of edits to tell a consistent story.&lt;/p&gt;
</description>
        <pubDate>Sat, 27 Jan 2018 00:00:00 -0500</pubDate>
        <link>https://lepisma.github.io//2018/01/27/blog-to-wiki/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2018/01/27/blog-to-wiki/</guid>
      </item>
    
      <item>
        <title>Fancy Little Lisp 位s</title>
        <description>&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;T&lt;/span&gt;his year, I am trying to get my hands on &lt;a href=&quot;https://adventofcode.com/&quot;&gt;Advent
of Code&lt;/a&gt;. One of my aims is to try out programming
languages with varying paradigms. As of now, I have attempted the days
(problems) &lt;a href=&quot;https://github.com/lepisma/advent-of-code&quot;&gt;intermittently&lt;/a&gt; and have
not been changing languages that often too, mostly employing Common Lisp. One
side effect of that has been a chance to have a deeper look into the CLs
package ecosystem.&lt;/p&gt;

&lt;p&gt;On first sight, you will notice that a lot of Common Lisp packages are old.
Really old. It feels like you dont have a lot of options. I actually started a
github project for collecting various handy macros/functions I use (or have
seen) in Emacs Lisp, Racket, Clojure etc. In the process, what I found was that
many of these are already present in CL. They are just spread out over lots of
packages (with lot of duplication). An interesting set of Lisp macros that I
have recently started to like is one that provides shortcuts for expressing 位
functions. In this post, I try to knot up the options in Common Lisp for these
little beauties.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Working in Lisp (or any language with functional inclinations) makes you use a
lot of partially applied functions. Consider a list of numbers that you want to
increment by 1. In Common Lisp this would be something like:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;lambda&lt;/code&gt; in the middle really is just creating a partially applied version
of the function &lt;code class=&quot;highlighter-rouge&quot;&gt;#'+&lt;/code&gt; with the first argument set to 1. Now, writing this much
code (&lt;code class=&quot;highlighter-rouge&quot;&gt;(lambda (n) (+ 1 n))&lt;/code&gt;) for a simple function can get really boring. In
this specific case, since we already have a unary function &lt;code class=&quot;highlighter-rouge&quot;&gt;#'1+&lt;/code&gt;, we can get
rid of the boilerplate like this:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;#'&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;1+&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;But, in general, you need to use the full &lt;code class=&quot;highlighter-rouge&quot;&gt;lambda&lt;/code&gt; form. Some Lisps, like
&lt;a href=&quot;https://hylang.org&quot;&gt;hy&lt;/a&gt; provide a shorter name like &lt;code class=&quot;highlighter-rouge&quot;&gt;fn&lt;/code&gt; which is neat, but
given that we have macros in hand there can be much cleaner solutions.&lt;/p&gt;

&lt;h1 id=&quot;cut&quot;&gt;Cut&lt;/h1&gt;

&lt;p&gt;One of the solutions I first came across is the &lt;code class=&quot;highlighter-rouge&quot;&gt;-cut&lt;/code&gt; macro in Emacs Lisp from
&lt;a href=&quot;https://github.com/magnars/dash.el#-cut-rest-params&quot;&gt;dash.el&lt;/a&gt;. This has its
origin in &lt;a href=&quot;https://srfi.schemers.org/srfi-26/srfi-26.html&quot;&gt;SRFI-26&lt;/a&gt; where a one
line description says &lt;em&gt;Notation for Specializing Parameters without Currying&lt;/em&gt;.&lt;/p&gt;

&lt;aside&gt;
  &lt;p&gt;Currying is a process of converting an &lt;em&gt;n-ary&lt;/em&gt; function into a chain of
&lt;em&gt;unary&lt;/em&gt; ones. This is different from what &lt;em&gt;cut&lt;/em&gt;s specification says. Cut
returns a single new function with arbitrary positions filled in. Currying
returns a chain which can then be applied sequentially to arguments. Here is an
example of what currying does in &lt;a href=&quot;https://racket-lang.org/&quot;&gt;Racket&lt;/a&gt;:&lt;/p&gt;

  &lt;div class=&quot;language-racket highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;expt&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; 32&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;curry&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;expt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; #&amp;lt;procedure:curried&amp;gt;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;curry&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;expt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; #&amp;lt;procedure:curried&amp;gt;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;(((&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;curry&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;expt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; 32&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/aside&gt;

&lt;p&gt;In Common Lisp we have &lt;a href=&quot;http://quickdocs.org/cl-cut/&quot;&gt;cl-cut&lt;/a&gt; which follows
Schemes cut specification more completely (as compared to dash in elisp). If
you want to (say) replace &lt;code class=&quot;highlighter-rouge&quot;&gt;?&lt;/code&gt; with &lt;code class=&quot;highlighter-rouge&quot;&gt;!&lt;/code&gt; in a list of strings, a cut based
solution would be:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; cut is from cl-cut&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; replace-all is from cl-strings&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;replace-all&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;?&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Compare that with the full 位 version:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;replace-all&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;?&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Not a lot different, but why complicate things if there are shorter ways? Just
like in functions, anonymity in arguments helps when the effective &lt;em&gt;name&lt;/em&gt; is
clear from context. Cut also allows expressing multiple arguments and 位s with
&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;rest&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; Replace ? with different string in different items&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;replace-all&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;?&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;replacements&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;;; Taken from http://quickdocs.org/cl-cut/&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;...&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; is equivalent to the following&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;&amp;amp;rest&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;xs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;apply&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;#'&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;xs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;One decision made in cut is to only allow &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&amp;gt;&lt;/code&gt; in flat positions, i.e. the
placeholder &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&amp;gt;&lt;/code&gt; can not be hidden inside parentheses like in the following case:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; This doesn't work&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;funcall&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;;; &amp;lt;&amp;gt; inside lists are not detected while generating the argument list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; (macroexpand '(cut + 2 (* &amp;lt;&amp;gt; 3))) gives&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Sometimes this nesting is needed. For example, if you are converting a list of
temperature given in 掳F to 掳C, you might want to be able to write something like:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;temperatures&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If you need only unary functions, a simple solution is to make an anaphoric
version of 位 which captures &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&amp;gt;&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;defmacro&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;acut&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;&amp;amp;rest&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;,@&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;;; This works now&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;acut&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;temperatures&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h1 id=&quot;xi&quot;&gt;Xi&lt;/h1&gt;

&lt;p&gt;This is another fancy way of creating 位s that I came to know from
&lt;a href=&quot;https://hylang.org&quot;&gt;hy&lt;/a&gt;. Although its name is going to be changed in &lt;a href=&quot;https://github.com/hylang/hy/blob/862732ff2a96b811d9b1f077843cd89bb1049099/hy/extra/anaphoric.hy#L114&quot;&gt;a
while&lt;/a&gt;,
according to &lt;a href=&quot;http://docs.hylang.org/en/stable/extra/anaphoric.html#xi&quot;&gt;current stable
docs&lt;/a&gt;, its usage is
like this:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; (require [hy.extra.anaphoric [*]])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;xi&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; This is equivalent to&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;[x1&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x2]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; Not that `lambda` is called `fn` in Hy&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The important thing to notice is that &lt;code class=&quot;highlighter-rouge&quot;&gt;xi&lt;/code&gt; supports positional arguments (and
also nesting) by using the number in the placeholders &lt;code class=&quot;highlighter-rouge&quot;&gt;x1&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;x2&lt;/code&gt; etc. For
example, consider the following snippet:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; Hy&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;xi&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;;; -3&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;xi&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;;; 13&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Xi really is inspired by Clojures &lt;a href=&quot;https://clojure.org/guides/learn/functions#_anonymous_functions&quot;&gt;anonymous function
syntax&lt;/a&gt; which
is pretty powerful:&lt;/p&gt;

&lt;div class=&quot;language-clojure highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; % acts similar to &amp;lt;&amp;gt; in cut
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;%1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;%3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;%2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; We have nesting and positional arguments (%i)
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;some-fun&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;;; We have &amp;amp;rest (as %&amp;amp;) too
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Closest looking syntax for this in Common Lisp (at least from what I found out)
is of the &lt;code class=&quot;highlighter-rouge&quot;&gt;#L&lt;/code&gt; reader macro from
&lt;a href=&quot;https://common-lisp.net/project/bese/docs/arnesi/html/api/function_005FIT.BESE.ARNESI_003A_003ASHARPL-READER.html&quot;&gt;arnesi&lt;/a&gt;
and &lt;code class=&quot;highlighter-rouge&quot;&gt;^&lt;/code&gt; macro from
&lt;a href=&quot;https://github.com/cl21/cl21/blob/master/doc/Reader_Macros.markdown#-3&quot;&gt;CL21&lt;/a&gt;.
Using &lt;code class=&quot;highlighter-rouge&quot;&gt;#L&lt;/code&gt;, the above examples in clojure translates to the following Common
Lisp code&lt;/p&gt;

&lt;aside&gt;
  &lt;p&gt;Arnesi is not recommended for use though. The &lt;a href=&quot;http://quickdocs.org/arnesi/&quot;&gt;version on
quicklisp&lt;/a&gt; is an unmaintained fork and suggests
switching to newer libraries.&lt;/p&gt;
&lt;/aside&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; Need to enable sharp-l reader macro&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; (arnesi:enable-sharp-l-syntax)&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;!1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;         &lt;span class=&quot;c1&quot;&gt;;; !i for position i&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;!1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;!3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;!2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;;; No &amp;amp;rest arguments here&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In CL21, you have:&lt;/p&gt;
&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;;; Don't know if &amp;amp;rest is supported yet&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Another option is
&lt;a href=&quot;http://quickdocs.org/positional-lambda/&quot;&gt;positional-lambda&lt;/a&gt; where Clojures
examples go like the following:&lt;/p&gt;
&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;plambda&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;            &lt;span class=&quot;c1&quot;&gt;;; :i for position i&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;plambda&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:3&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;plambda&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;some-fun&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:1&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:rest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;;; &amp;amp;rest is supported&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;Although using complicated 位s signals that you better reconsider your decision
of &lt;em&gt;not&lt;/em&gt; creating dedicated functions, these fancier variants are pretty useful.&lt;/p&gt;

&lt;p&gt;Here is a listing of Common Lisp packages mentioned in this post and some other
which are similar in the sense that they allow creating/manipulating functions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://quickdocs.org/cl-cut/&quot;&gt;cl-cut&lt;/a&gt; for &lt;code class=&quot;highlighter-rouge&quot;&gt;cut&lt;/code&gt; (and &lt;code class=&quot;highlighter-rouge&quot;&gt;cute&lt;/code&gt;) syntax from
&lt;a href=&quot;https://srfi.schemers.org/srfi-26/srfi-26.html&quot;&gt;SRFI-26&lt;/a&gt;&lt;/p&gt;

    &lt;p&gt;&lt;a class=&quot;image-link&quot; href=&quot;http://quickdocs.org/cl-cut/&quot;&gt;&lt;img src=&quot;http://quickdocs.org/badge/cl-cut.svg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://quickdocs.org/arnesi/&quot;&gt;arnesi&lt;/a&gt; for the &lt;code class=&quot;highlighter-rouge&quot;&gt;#L&lt;/code&gt; reader macro.&lt;/p&gt;

    &lt;p&gt;&lt;a class=&quot;image-link&quot; href=&quot;http://quickdocs.org/arnesi/&quot;&gt;&lt;img src=&quot;http://quickdocs.org/badge/arnesi.svg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/cl21/cl21&quot;&gt;CL21&lt;/a&gt; for the &lt;code class=&quot;highlighter-rouge&quot;&gt;^&lt;/code&gt; macro. Not on quicklisp main
repos but can be installed using ql. Instructions on projects page.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://quickdocs.org/positional-lambda/&quot;&gt;positional-lambda&lt;/a&gt; for &lt;code class=&quot;highlighter-rouge&quot;&gt;plambda&lt;/code&gt;
macro.&lt;/p&gt;

    &lt;p&gt;&lt;a class=&quot;image-link&quot; href=&quot;http://quickdocs.org/positional-lambda/&quot;&gt;&lt;img src=&quot;http://quickdocs.org/badge/positional-lambda.svg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;There is also &lt;code class=&quot;highlighter-rouge&quot;&gt;#`-reader&lt;/code&gt; in &lt;a href=&quot;https://github.com/vseloved/rutils&quot;&gt;rutils&lt;/a&gt;
providing Clojure-ish but slightly limited shorthands&lt;/p&gt;

    &lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; =&amp;gt; (lambda (&amp;amp;optional x y) (+ 2 x)) &lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;1+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; =&amp;gt; (lambda (&amp;amp;optional x) (print x) (1+ x))&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;%%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; =&amp;gt; (lambda (&amp;amp;optional x y) (+ x y)) &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;a class=&quot;image-link&quot; href=&quot;http://quickdocs.org/rutils/&quot;&gt;&lt;img src=&quot;http://quickdocs.org/badge/rutils.svg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/cbaggers/fn&quot;&gt;fn&lt;/a&gt; provides another set of shorthands for
位s. Examples from github page:&lt;/p&gt;

    &lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;fn*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;subseq&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;_@&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; =&amp;gt;  (lambda (&amp;amp;rest _@) (subseq _@ 0 2))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; with reader macros for fn* forms too&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;位&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; =&amp;gt;  (lambda (_ _1) (+ _ _1))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;a class=&quot;image-link&quot; href=&quot;http://quickdocs.org/fn/&quot;&gt;&lt;img src=&quot;http://quickdocs.org/badge/fn.svg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://eschulte.github.io/curry-compose-reader-macros/&quot;&gt;curry-compose-reader-macros&lt;/a&gt;
provides shorthand reader macros for currying and composing functions. A few
examples from the github page:&lt;/p&gt;

    &lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; partial application `curry'&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;{+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;1}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; =&amp;gt; (2 3 4 5)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; function composition&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;[#&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;'list&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;{*&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;2}]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; =&amp;gt; ((2) (4) (6) (8))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; function split and join&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mapcar&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;芦&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;{*&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;2}&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;{*&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;3}&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;禄&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; =&amp;gt; ((2 3) (4 6) (6 9) (8 12))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;a class=&quot;image-link&quot; href=&quot;http://quickdocs.org/curry-compose-reader-macros/&quot;&gt;&lt;img src=&quot;http://quickdocs.org/badge/curry-compose-reader-macros.svg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.cliki.net/curly&quot;&gt;curly&lt;/a&gt; has two reader macros for currying and
composition. Examples from homepage&lt;/p&gt;

    &lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;ss&quot;&gt;'[foo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;bar&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;baz]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;; =&amp;gt; (lambda (#:g2709) (foo bar #:g2709 baz))&lt;/span&gt;

&lt;span class=&quot;ss&quot;&gt;'{foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;bar&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;baz&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;quux}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; =&amp;gt; (lambda (#:g2724) (foo (bar 16 (baz 23 (quux #:g2724) 42)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;a class=&quot;image-link&quot; href=&quot;http://quickdocs.org/curly/&quot;&gt;&lt;img src=&quot;http://quickdocs.org/badge/curly.svg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Wed, 20 Dec 2017 00:00:00 -0500</pubDate>
        <link>https://lepisma.github.io//2017/12/20/fancy-lambdas/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2017/12/20/fancy-lambdas/</guid>
      </item>
    
      <item>
        <title>Ricing up Org mode</title>
        <description>&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;T&lt;/span&gt;his is a short post pulling in &lt;a href=&quot;https://www.reddit.com/r/unixporn/comments/73vwpa/stumpwm_light_colors_with_purple_accent/dnvqwt8/?context=1&quot;&gt;my
comment&lt;/a&gt;
on a /r/unixporn submission where I document my Org mode dotfiles for a word
processor like interface. The aim is to recreate a
&lt;a href=&quot;https://www.reddit.com/r/unixporn/comments/6lj3h3/stumpwmkde_emacs_org_mode_writing_setup/&quot;&gt;rice&lt;/a&gt;
I submitted on /r/unixporn some time back. Shown below is a demo of what the
thing actually looks like.&lt;/p&gt;

&lt;aside&gt;
  &lt;p&gt;Following screencast shows the setup in action.&lt;/p&gt;

  &lt;video width=&quot;100%&quot; controls=&quot;controls&quot;&gt;
  &lt;source src=&quot;https://u.teknik.io/5Vy1T.mp4&quot; type=&quot;video/mp4&quot; /&gt;
&lt;/video&gt;
&lt;/aside&gt;

&lt;figure&gt;&lt;img class=&quot;zoomTarget&quot; data-closeclick=&quot;true&quot; src=&quot;/images/posts/org-rice/demo.png&quot; /&gt;&lt;figcaption&gt;&lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;The look is inspired from the style used by &lt;a href=&quot;https://edwardtufte.github.io/et-book&quot;&gt;Edward
Tufte&lt;/a&gt; in his books. A replication of the
style in CSS is up on github for free at
&lt;a href=&quot;https://edwardtufte.github.io/tufte-css/&quot;&gt;tufte-css&lt;/a&gt;. Other than the proper
spacing and margins, the thing that I like in Tuftes style is the font &lt;a href=&quot;https://edwardtufte.github.io/et-book&quot;&gt;ET
Book&lt;/a&gt; which is an old-style serif font
with beautiful &lt;em&gt;italics&lt;/em&gt;.&lt;/p&gt;

&lt;figure&gt;&lt;img class=&quot;zoomTarget&quot; data-closeclick=&quot;true&quot; src=&quot;/images/posts/org-rice/et-book.png&quot; /&gt;&lt;figcaption&gt;
    &lt;p&gt;Et Book font&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;p&gt;To start, we need a nice looking light color scheme so that faces other than
that of Org mode look decent. I
selected &lt;a href=&quot;https://github.com/nashamri/spacemacs-theme&quot;&gt;spacemacs-light&lt;/a&gt; mostly
because I use spacemacs and it is pretty complete as far as number of faces
covered is concerned. Also, it has a good off-white background (&lt;code class=&quot;highlighter-rouge&quot;&gt;#fbf8ef&lt;/code&gt;).
There are three basic steps involved from here:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Setting faces and themes&lt;/li&gt;
  &lt;li&gt;Padding and stuff&lt;/li&gt;
  &lt;li&gt;Other Org-mode visual and usability tweaks&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;faces&quot;&gt;Faces&lt;/h1&gt;

&lt;p&gt;We will set Et Book (named &lt;code class=&quot;highlighter-rouge&quot;&gt;EtBembo&lt;/code&gt;) font to most of the org mode. Get the font
&lt;a href=&quot;https://github.com/edwardtufte/et-book&quot;&gt;here&lt;/a&gt;. If you are using spacemacs, the
easy way is to use the &lt;code class=&quot;highlighter-rouge&quot;&gt;theming&lt;/code&gt; layer in spacemacs to set faces. My face config
are available
&lt;a href=&quot;https://github.com/lepisma/rogue/blob/75ab1c3422b409f41daa4c003b931e869eed0914/config.el#L205&quot;&gt;here&lt;/a&gt;.
For each face, the second set of properties are for the light theme
(spacemacs-light). I have set the &lt;code class=&quot;highlighter-rouge&quot;&gt;variable-pitch&lt;/code&gt; font to be &lt;code class=&quot;highlighter-rouge&quot;&gt;EtBembo&lt;/code&gt; (along
with title and stuff) and enable &lt;code class=&quot;highlighter-rouge&quot;&gt;variable-pitch-mode&lt;/code&gt; when in an org buffer.&lt;/p&gt;

&lt;p&gt;Note that unlike other face settings, &lt;code class=&quot;highlighter-rouge&quot;&gt;org-indent&lt;/code&gt;s &lt;code class=&quot;highlighter-rouge&quot;&gt;(:inherit (org-hide
fixed-pitch))&lt;/code&gt; has a crucial effect of aligning text under Org heading in a
non-monospace font, so you might not want to miss that.&lt;/p&gt;

&lt;h1 id=&quot;padding&quot;&gt;Padding&lt;/h1&gt;

&lt;p&gt;There are a few places where you can gain some breathing space.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;em&gt;Line spacing&lt;/em&gt;&lt;/p&gt;

    &lt;p&gt;Per buffer line spacing can be set using the variable &lt;code class=&quot;highlighter-rouge&quot;&gt;line-spacing&lt;/code&gt;.
 Something like 0.1 goes well here.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;em&gt;Top padding&lt;/em&gt;&lt;/p&gt;

    &lt;p&gt;Similar to &lt;code class=&quot;highlighter-rouge&quot;&gt;mode-line&lt;/code&gt;, Emacs also has &lt;code class=&quot;highlighter-rouge&quot;&gt;header-line&lt;/code&gt; for windows. Setting its
 format to empty string &lt;code class=&quot;highlighter-rouge&quot;&gt;(setq header-line-format &quot; &quot;)&lt;/code&gt; gives you top padding.
 Also by changing header-line face height, you can change this spacing.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;em&gt;Side padding&lt;/em&gt;&lt;/p&gt;

    &lt;p&gt;Adding side spaces is possible by setting margin width. You also need to
 reset the buffer to make the change visible. Here is a function that does
 that:&lt;/p&gt;

    &lt;div class=&quot;language-emacs-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;progn&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;setq&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;left-margin-width&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;setq&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;right-margin-width&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;set-window-buffer&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;current-buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you need padding all around the frame so that everything (including
mode-line) goes inside the padded view, you can set &lt;code class=&quot;highlighter-rouge&quot;&gt;internal-border-width&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You can also try
&lt;a href=&quot;https://github.com/joostkremers/writeroom-mode&quot;&gt;writeroom-mode&lt;/a&gt; which makes the
writing buffer cleaner and has settings for many of the padding related stuff.
One neat feature is that it makes the buffer text centered and hides mode line.
I dont use it much since my current settings reproduce pretty much what I need
from it. Nevertheless, &lt;a href=&quot;https://github.com/lepisma/rogue/blob/75ab1c3422b409f41daa4c003b931e869eed0914/packages.el#L264-L287&quot;&gt;here is some
config&lt;/a&gt;
for writeroom.&lt;/p&gt;

&lt;h1 id=&quot;other-tweaks&quot;&gt;Other tweaks&lt;/h1&gt;

&lt;p&gt;Whatever information your mode line might be displaying, most likely it can be
turned off if you are aiming for a distraction free setup. Spacemacs provide a
minor mode &lt;code class=&quot;highlighter-rouge&quot;&gt;hidden-mode-line-mode&lt;/code&gt; to hide the mode line, which can be added to
your org hook. Some other minor settings follow:&lt;/p&gt;

&lt;div class=&quot;language-emacs-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;setq&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;org-startup-indented&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;t&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;org-bullets-bullet-list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;;; no bullets, needs org-bullets package&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;org-ellipsis&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;  &quot;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;;; folding symbol&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;org-pretty-entities&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;t&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;org-hide-emphasis-markers&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;t&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;;; show actually italicized text instead of /italicized text/&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;org-agenda-block-separator&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;org-fontify-whole-heading-line&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;t&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;org-fontify-done-headline&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;t&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;org-fontify-quote-and-verse-blocks&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Also try disabling &lt;code class=&quot;highlighter-rouge&quot;&gt;hl-line-mode&lt;/code&gt; in org-mode as varying line heights make these
highlights look bad. Install
&lt;a href=&quot;https://github.com/Fuco1/org-pretty-table&quot;&gt;org-pretty-table-mode&lt;/a&gt; for getting
beautiful table borders. Other stuff like latex (&lt;code class=&quot;highlighter-rouge&quot;&gt;org-latex-toggle-fragment&lt;/code&gt;)
and image previews (&lt;code class=&quot;highlighter-rouge&quot;&gt;org-image-toggle-inline&lt;/code&gt;) come bundled in with org.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/lepisma/rogue/tree/75ab1c3422b409f41daa4c003b931e869eed0914&quot;&gt;Here&lt;/a&gt;
is the snapshot of my Emacs dotfiles with config related to this post.&lt;/p&gt;
</description>
        <pubDate>Sat, 28 Oct 2017 00:00:00 -0400</pubDate>
        <link>https://lepisma.github.io//2017/10/28/ricing-org-mode/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2017/10/28/ricing-org-mode/</guid>
      </item>
    
      <item>
        <title>The point of keyboarding</title>
        <description>&lt;p class=&quot;post-intro&quot;&gt;
Asking myself whats important in the keyboard vs mouse debate. Is it really just
the matter of speed or is it more fundamentally connected to what these devices
represent? I believe its the cost of attention that matters.
&lt;/p&gt;
&lt;!--more--&gt;

&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;I&lt;/span&gt; recently switched to a tiling window manager and
gave in some more estate to &lt;em&gt;keyboarding&lt;/em&gt;. Not many useful things happen if I
click around in my desktop now (unless, of course, there is a browser window
open).&lt;/p&gt;

&lt;p&gt;Whenever I have to explain someone, who (usually) does not program, why I use
keyboard for doing things which are clearly possible using a few mouse clicks, I
find myself fishing around for some reasonable transformation of the same old
answer, using a keyboard is faster. Do I really care about &lt;em&gt;speed&lt;/em&gt;? I would be
lying if I said yes to that.&lt;/p&gt;

&lt;h1 id=&quot;speed-vs-effortlessness&quot;&gt;Speed vs Effortlessness&lt;/h1&gt;

&lt;p&gt;There are obvious differences between tasks like writing text vs doing something
inherently visual which lets you choose either keyboard or mouse without any
doubt. The problem comes with thing like navigating through directory tree,
browsing web, reading pdfs etc. You know, questions like whether &lt;em&gt;h-j-k-l&lt;/em&gt; is
faster than mousing or whether clicking on toolbar is efficient or pressing a
shortcut key.&lt;/p&gt;

&lt;p&gt;Should you really use keyboard over mouse (or the other way) at these places?
Here is Xah Lee &lt;a href=&quot;http://xahlee.info/kbd/mouse_vs_keyboard.html&quot;&gt;talking about&lt;/a&gt;
talking about this issue, arguing that mouse excels in efficiency at a few
places and suggests a hybrid approach instead of being a total keyboard warrior.
Here is Jeff Atwood
&lt;a href=&quot;https://blog.codinghorror.com/revisiting-keyboard-vs-the-mouse-pt-1/&quot;&gt;discussing&lt;/a&gt;
mouse vs keyboard and advocating a two-fisted computing approach to improve
speed. I mostly agree with their conclusions that these two devices complement
each other but there is this little thing, this &lt;em&gt;focus on speed&lt;/em&gt; that goes
against what I find more important. I am not really, &lt;em&gt;really&lt;/em&gt; fast at typing. I
can be if I spend some time training myself. But I dont, because typing is now
effortless for me. However slow I might be to someone else, I dont even think
about improving in that domain (even though that is mostly a low hanging fruit
for increasing my overall speed). But I do play around with my other tooling to
improve &lt;em&gt;something&lt;/em&gt; in my work. What is that &lt;em&gt;something&lt;/em&gt;, if not input
efficiency?&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Rice makes up a major portion of my diet. We have two ways to cook it where I
live right now. One is an automatic rice cooker. You put in rice + water and
forget it. It automatically gets turned off when done. It takes around 40
minutes. Another way is to use a pressure cooker. Put in rice + water, &lt;em&gt;be
attentive&lt;/em&gt; for the whistle (so that you could turn the stove off at the correct
count) and get cooked rice in less than 10 minutes. We can do some other work in
both the cases, but the pressure cooker demands a piece from my bag of
attention. We almost never use the pressure cooker for rice (not since our auto
cooker broke though).&lt;/p&gt;

&lt;p&gt;To clarify, I am not worried about shaving off microseconds but am more inclined
to reduce the &lt;em&gt;cognitive burden&lt;/em&gt; while doing things which arent the main focus
of the task I am trying to accomplish. I dont avoid something because its slow,
but because I dont like doing it.&lt;/p&gt;

&lt;h1 id=&quot;interface&quot;&gt;Interface&lt;/h1&gt;

&lt;p&gt;Good design disappears. Its transparent and doesnt make you sweat for secondary
things. In application user interfaces, its the uniformity and familiarity which
removes the usage friction. Consider the minimize, maximize and close buttons
present in top right of many window managers. Except Mac OS (and few other
customized systems), where we get these on the left side, these make up a
universal language where you throw your mouse up there and things happen without
being overly conscious of the very act of moving the mouse.&lt;/p&gt;

&lt;figure&gt;&lt;img class=&quot;zoomTarget&quot; data-closeclick=&quot;true&quot; src=&quot;/images/posts/keyboard/dolphin.png&quot; /&gt;&lt;figcaption&gt;
    &lt;p&gt;A familiar interface of a file browser removes the mental effort of doing
what you want to do&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;Consider something more unorthodox than simply closing the window. How about
showing hidden files? Now the uniformity seems to break a little bit. You might
have to switch gears and look not on the directly visible controls, but under a
certain menu, which might be different in different file managers. This point
manifests itself more openly when you push this analogy further to much more a
liberal graphical interface, the web. The web is a wild place. There are near
infinite design patterns and more keep popping every day. Not that I hate it (I
absolutely adore the experimentation possibilities opened up by the web), but
this results in you taking more effort to &lt;em&gt;navigate&lt;/em&gt; the web instead of focusing
on the actual work you want to do.&lt;/p&gt;

&lt;p&gt;This breaking point in graphical interfaces becomes important for programmers
who are more involved in the act of &lt;em&gt;using a computer&lt;/em&gt; than the regulars. They
are willing and able to customize their tools for avoiding actions they dont
like. The problem is, its hard to make &lt;em&gt;graphical&lt;/em&gt; interfaces amenable to
extensive customization without making a mess. And if you dont try to do that,
you make the next lower level api less accessible psychologically. While using
&lt;a href=&quot;https://userbase.kde.org/KWin&quot;&gt;Kwin&lt;/a&gt; (KDEs window manager), I was less aware of
(and willing to try) its scripting capabilities. &lt;em&gt;What behavior would I possibly
alter by scripting my window manager?&lt;/em&gt; After switching to
&lt;a href=&quot;https://stumpwm.github.io/&quot;&gt;StumpWM&lt;/a&gt;, I have done a lot of tweaking in how I
manage windows, just because now I am &lt;em&gt;closer&lt;/em&gt; to the source of the tool itself
and thus have a much more elaborate mental model of whats going inside that
tool.&lt;/p&gt;

&lt;p&gt;Do all these matter for the discussion in hand here? Yes. The mouse and the
keyboard are &lt;em&gt;just&lt;/em&gt; input methods. They fuse &lt;em&gt;with&lt;/em&gt; the interface to become
&lt;em&gt;part&lt;/em&gt; of it. They neither stand for the interface you are facing, nor are they
complete representations of the vices and virtues of these interfaces. Being
just a part of the interfaces, the question now is about which interface, &lt;em&gt;as a
whole&lt;/em&gt;, is better suited for users who can reduce the cognitive friction if
provided sufficiently deep access to the innards of the program.&lt;/p&gt;

&lt;h1 id=&quot;plain-text&quot;&gt;Plain text&lt;/h1&gt;

&lt;p&gt;Take any piece of software apart and you will find code. Text. There is no other
&lt;em&gt;popular&lt;/em&gt; intermediate representation. And text has a uniform UI. Set of lines
arranged in something akin to pages. Every piece of abstraction wraps around
this using a set of standards and opinions. If done well, the elements create a
very hackable system, which lets you cut off usage strain from most of the
places. And its easy to do well at text level because 1) text has a more
constrained semantics and 2) it provides a more accurate mental model of the
software.&lt;/p&gt;

&lt;p&gt;The fact that plain text is &lt;em&gt;the most fundamental UI&lt;/em&gt; has a lot to do with why I
skip mousing in many situations. This also underlies the subtle difference
between how and why an interface accepts keys. Is it for better &lt;em&gt;speed&lt;/em&gt;? Or is
it for a more fundamental reason like &lt;em&gt;exposing its inner plain text&lt;/em&gt; essence?
Here is an example. In Gmails web interface, which I have used pretty often and
still do sometimes, I never got to use keyboard shortcuts because both the
keyboard &lt;em&gt;and&lt;/em&gt; the mouse put me at the same level of control. This changed when
I switched to a desktop email client &lt;a href=&quot;https://userbase.kde.org/KMail&quot;&gt;Kmail&lt;/a&gt;. I
went ahead and added some custom scripts/hooks and boom! I am using keys more.
Recently pushed it even further by switching to an Emacs based system
&lt;a href=&quot;https://www.djcbsoftware.nl/code/mu/mu4e.html&quot;&gt;mu4e&lt;/a&gt; and its all keys now.
There lies my argument for saying that keyboarding is superior&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Its superior not because its faster, nor because there &lt;strong&gt;are&lt;/strong&gt; shortcuts for
you to do things, but because you &lt;strong&gt;can make&lt;/strong&gt; shortcuts to do things.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;And this has strong ties with the program itself. What I am proposing, is the
idea that keyboards symbolize the act of &lt;em&gt;creating&lt;/em&gt; shortcuts rather than
&lt;em&gt;using&lt;/em&gt; them.&lt;/p&gt;

&lt;p&gt;Hint based browsing (like &lt;a href=&quot;https://addons.mozilla.org/en-us/firefox/addon/mouseless-browsing/&quot;&gt;mouseless
browsing&lt;/a&gt;
addon for firefox, see image below) comes to mind as another case here. This
lies on the side of an interface which &lt;em&gt;gives&lt;/em&gt; you keyboard shortcuts rather
than let you &lt;em&gt;create&lt;/em&gt; some (unless, of course, you are going to change the
addons source code). Say whatever about efficiency, the interface these hints
conjure is at the same level as when you use a mouse. You still have to
consciously &lt;em&gt;see&lt;/em&gt; where you want to &lt;em&gt;click&lt;/em&gt; and then act accordingly.&lt;/p&gt;

&lt;figure&gt;&lt;img class=&quot;zoomTarget&quot; data-closeclick=&quot;true&quot; src=&quot;/images/posts/keyboard/hint.png&quot; /&gt;&lt;figcaption&gt;
    &lt;p&gt;In hint mode (as shown here), you can press the keys shown on links
(&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; elements) to &lt;em&gt;click&lt;/em&gt; them. The image uses Hok plugin for
&lt;a href=&quot;https://github.com/mooz/keysnail/wiki/plugin&quot;&gt;keysnail&lt;/a&gt; in Firefox&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;What would be &lt;em&gt;the&lt;/em&gt; keyboard centered interface that I might enjoy more here?
Probably something that lets me hit links by allowing me to &lt;em&gt;create&lt;/em&gt; a filtering
function based on the context. This will take me closer to the pages internal
structure and will allow me to avoid effort. From the top of my mind, I will
make some filters for navigating search results in any search page (since not
all of them let you navigate with arrow keys). And this is possible because I
will have access to a more uniform view of the inner dynamics of any page.
Arguably, this is not the plain text interface because the user facing side is
still the same, but it goes deeper than just setting shortcuts and embraces the
ideology of this depth.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Thinking like this, I find it disagreeable now when people talk about learning
keyboard shortcuts and/or improving speed. Consider Emacs. You will find tons of
tutorials which start by telling keyboard shortcuts. For me, while learning
Emacs, the turning point was not when I learned and &lt;em&gt;started&lt;/em&gt; using a lot of
keybindings, but when I used &lt;a href=&quot;https://github.com/emacs-helm/helm/&quot;&gt;helm&lt;/a&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;M-x&lt;/code&gt;
and came to know that all these functions (see image below) can be &lt;em&gt;created&lt;/em&gt;,
&lt;em&gt;called&lt;/em&gt; and &lt;em&gt;bound&lt;/em&gt; to keys in whatever way you want.&lt;/p&gt;

&lt;figure&gt;&lt;img src=&quot;/images/posts/keyboard/helm.png&quot; /&gt;&lt;figcaption&gt;
    &lt;p&gt;Interfaces like helm combined with sensibly named items are good ways to
explore what is possible in a system.&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;Keys are not inherently special, the plain text interface is. This also means
that at places without a plain text interface, mousing/pointing can be better
(like in browsing web). But &lt;em&gt;if&lt;/em&gt; you have a keyboard respecting (in the sense
that it exposes its inner model instead of just &lt;em&gt;having&lt;/em&gt; shortcuts) plain text
alternative, that is going to be smoother on mind because of the customization
potential created by the similarity of inner and outer representation. And its
this smoothness, rather than speed, which really clicks me.&lt;/p&gt;
</description>
        <pubDate>Fri, 25 Aug 2017 00:00:00 -0400</pubDate>
        <link>https://lepisma.github.io//2017/08/25/keyboard/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2017/08/25/keyboard/</guid>
      </item>
    
      <item>
        <title>Leaving goodreads</title>
        <description>&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;G&lt;/span&gt;oodreads feels like a project with a lost focus. I
can list a dozen (about right) things that dont justify the prefix of the
projects name. Dont get me wrong here. The content there is really good. The
collections, lists people make, &lt;em&gt;most&lt;/em&gt; reviews, they all are good. Whats not
good is the product itself. It looks like no one is developing it any more.
Rightly so if maybe the users are satisfied.&lt;/p&gt;

&lt;p&gt;Its search doesnt provide what you expect from all modern search interfaces.
Try turning on infinite scroll in your shelves and keep going down only to learn
about &lt;em&gt;random sampling&lt;/em&gt;. Oh and the clutter in the default setting of your feed.
Everything and more made me switch to a scheme where my reading data is more
bare, accessible and manageable without the noise.&lt;/p&gt;

&lt;h1 id=&quot;a-better-list&quot;&gt;A better list&lt;/h1&gt;

&lt;p&gt;My usual book reading cycle involves doing a web search (not goodreads) after I
become aware of a title and landing on goodreads to mark it as &lt;code class=&quot;highlighter-rouge&quot;&gt;to-read&lt;/code&gt;. Then
rating it and possibly writing something about it. I dont tend to maintain
multiple shelves because maintaining that isnt a very smooth process on the web
ui.&lt;/p&gt;

&lt;p&gt;I am now using an org file for
my &lt;a href=&quot;http://github.com/lepisma/reading-list&quot;&gt;reading-list&lt;/a&gt; with a little bit of
Emacs &lt;a href=&quot;http://github.com/lepisma/org-books&quot;&gt;scripting&lt;/a&gt; which lets me import
books from amazon and goodreads urls. Thankfully, there is csv export feature in
goodreads which lets you export all you books in a single csv, which is easy to
pull in.&lt;/p&gt;

&lt;figure&gt;&lt;img class=&quot;zoomTarget&quot; data-closeclick=&quot;true&quot; src=&quot;/images/posts/goodreads/screen.png&quot; /&gt;&lt;figcaption&gt;
    &lt;p&gt;Yes, stars and everything. A little bit of effort and book covers can be here
too.&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;Keeping an org file has some neat benefits. I can pull readings in my agenda
view, create progress indicators separate from the shelves (which can go in org
tags), attach arbitrary content to entries, create innumerable custom and
dynamic views for the library, write richer reviews etc. I am still
experimenting with it but I believe it would fit right in with my needs and
would quickly become what I want it to be.&lt;/p&gt;
</description>
        <pubDate>Thu, 29 Jun 2017 00:00:00 -0400</pubDate>
        <link>https://lepisma.github.io//2017/06/29/leaving-goodreads/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2017/06/29/leaving-goodreads/</guid>
      </item>
    
      <item>
        <title>Simpler time map plots</title>
        <description>&lt;p class=&quot;post-intro&quot;&gt;
Proposing a one dimensional version of &lt;a href=&quot;https://districtdatalabs.silvrback.com/time-maps-visualizing-discrete-events-across-many-timescales&quot;&gt;time
map&lt;/a&gt;
plots which doesnt lose any information displayed in most cases and is cleaner
to understand.
&lt;/p&gt;
&lt;!--more--&gt;

&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;B&lt;/span&gt;ehavior of time series is tricky to judge from
simple plots. The process generating the series can have multiple underlying
mechanics and simple plots make it hard to discern these. Sometime back I read
about
&lt;a href=&quot;https://districtdatalabs.silvrback.com/time-maps-visualizing-discrete-events-across-many-timescales&quot;&gt;time maps&lt;/a&gt;,
which try to solve a part of this problem (I encourage you to read that post
before this one). Time maps target visualizing time differences between discrete
events. This is helpful, for example, to see if there are multiple modes in the
repetition of some events. If on a single day you eat 5 times from 9 AM to 11 AM
and call it a day, your eating time plot will have repetitions for those small
intervals &lt;em&gt;and&lt;/em&gt; for the daily one. A time map captures these two modes easily.&lt;/p&gt;

&lt;p&gt;Consider the following time series. The x axis shows date and the y axis shows
my lastfm &lt;a href=&quot;https://www.last.fm/user/abhinavtushar&quot;&gt;scrobbles&lt;/a&gt; per day.&lt;/p&gt;

&lt;figure&gt;&lt;div id=&quot;counts-lfm&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;My daily lastfm scrobbles&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;Nothing much to it. If I plot it as a time map, I get this&lt;/p&gt;

&lt;aside&gt;
  &lt;p&gt;Scale is log; sorry
for the &lt;em&gt;not that useful&lt;/em&gt; tick labels in this whole post,
&lt;a href=&quot;https://github.com/lepisma/tufte.js/issues/21&quot;&gt;will fix it&lt;/a&gt;.&lt;/p&gt;
&lt;/aside&gt;

&lt;figure&gt;&lt;div id=&quot;diffs-lfm-vanilla&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;Scrobbles time map&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;Each dot here is a listen. The &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; value being the time
difference between it and the previous listen, &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.625em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; being
the difference with next listen. Note that the plot is log scaled (thus the
repeated pattern in lower values) which helps us understand the diffs at
multiple scales.&lt;/p&gt;

&lt;p&gt;Another important point is the &lt;em&gt;almost&lt;/em&gt; symmetry along &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x = y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.625em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mord mathit&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; line. When you use the &lt;em&gt;pre-event&lt;/em&gt; and &lt;em&gt;post-event&lt;/em&gt; time diffs of
each event as &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; and &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.625em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; value
for plotting, one points &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; will be previous ones
(according to event ordering) &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.625em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; value. Now this has
consequences on whether a time map is useful for you. What follows is the same
plot with marginal histograms along the axis. No doubt the &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; and &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.625em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; marginals are similar. This is not
because of the data but because of the way both axis values are derived,
resulting in a non-exact symmetry.&lt;/p&gt;

&lt;figure&gt;&lt;div id=&quot;diffs-lfm&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;Time map with marginals&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;Think about a point in top left corner. This refers to an event which was
preceded by another event shortly but is followed by the next event after a long
time gap. The opposite happens with point in bottom right. Because adjacent
events share &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; and &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.625em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;, the mass
of points has similar distributions (notice that this is not the case with very
few points). Unless you are displaying another data dimension using color / size
of the circles (like in the original
&lt;a href=&quot;https://districtdatalabs.silvrback.com/time-maps-visualizing-discrete-events-across-many-timescales&quot;&gt;blog&lt;/a&gt;,
where we see points colored according to the time of day), the two dimensions
here just add to the visual clutter.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Lets tweak the lastfm data a little bit. Now, the scrobbles are filtered to show
only the first listen of each song. To give this some meaning, a lot of these
&lt;em&gt;filtered&lt;/em&gt; scrobbles in a short time span would mean that I explored more as
compared to repeating the same old songs.&lt;/p&gt;

&lt;figure&gt;&lt;div id=&quot;diffs-lfm-dd&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;First listen time maps&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;Notice how easy it is to find the bumps in the marginal plot. A plot of &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; marginal follows.&lt;/p&gt;

&lt;figure&gt;&lt;div id=&quot;dd-hist&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; marginal plot of first listens&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;As a side note this plot makes me wonder about the origin of the bumps. The
initial rise up to &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x = 3, 4&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;strut bottom&quot; style=&quot;height:0.8388800000000001em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;mord mathit&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mord mathrm&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mord mathrm&quot;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; (around 20, 50 minutes) is
mostly due to radios listens (which give you fresh songs frequently) or binging
on some new album/artist. The one around 7 (around 18 hours) might be a
&lt;em&gt;session&lt;/em&gt; change. A new session, with fresh items probably. Need to dig in the
actual songs to understand this.&lt;/p&gt;

&lt;h1 id=&quot;tweets&quot;&gt;Tweets&lt;/h1&gt;

&lt;p&gt;The original blog made a time map for tweets
of &lt;a href=&quot;https://twitter.com/BarackObama&quot;&gt;@BarackObama&lt;/a&gt;. I did a re-crawl. Here is
the time plot of tweets per day.&lt;/p&gt;

&lt;figure&gt;&lt;div id=&quot;counts-tw&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;Tweets per day &lt;a href=&quot;https://twitter.com/BarackObama&quot;&gt;@BarackObama&lt;/a&gt;&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;Next is the full time map for the series.&lt;/p&gt;

&lt;figure&gt;&lt;div id=&quot;diffs-tw&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;Tweets time map &lt;a href=&quot;https://twitter.com/BarackObama&quot;&gt;@BarackObama&lt;/a&gt;&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;As argued earlier, unless we are showing extra information, its much easier to
see the marginal to get the frequency behavior of the series. See the plot
below.&lt;/p&gt;

&lt;figure&gt;&lt;div id=&quot;tw-hist&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;Tweets time map 1D &lt;a href=&quot;https://twitter.com/BarackObama&quot;&gt;@BarackObama&lt;/a&gt;&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;h1 id=&quot;gotchas&quot;&gt;Gotchas&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Making sense of a histogram in log scale (the kind I used, with uniform bins
over log scaled data; You can have non-uniform, log scaled bins too. I havent
tried that) is tricky. The bins and density dont exactly go as you would
think. Additionally you would see repeated pattern (exposing the discrete
values) in the beginning and smoothing in the end. More rigorous analysis
should be done to derive something other than qualitative meanings from these.&lt;/li&gt;
  &lt;li&gt;Add to it the number-of-bins problem. Plots above
use
&lt;a href=&quot;https://en.wikipedia.org/wiki/Freedman%E2%80%93Diaconis_rule&quot;&gt;Freedman-Diaconis rule&lt;/a&gt; to
get the number of bins. Changing this number can result in different views
as shown below.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;&lt;div id=&quot;tw-hist-less&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;Tweets time map with 10 bins&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;figure&gt;&lt;div id=&quot;tw-hist-more&quot;&gt;&lt;/div&gt;&lt;figcaption&gt;
    &lt;p&gt;Tweets time map with 200 bins&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;p&gt;Time maps are neat exploratory tools. To me, they have more qualitative value
than quantitative. Most of the visualizations with more than a few dozen points
make more sense qualitatively and are better without unnecessary details, thats
why we prefer heatmaps instead of regular scatter in certain cases. A marginal
time map follows the same idea.&lt;/p&gt;

&lt;script src=&quot;https://d3js.org/d3.v4.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;/scripts/posts/time-maps/tufte.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;/scripts/posts/time-maps/script.js&quot;&gt;&lt;/script
&lt;/script&gt;
</description>
        <pubDate>Sun, 25 Jun 2017 00:00:00 -0400</pubDate>
        <link>https://lepisma.github.io//2017/06/25/simple-time-maps/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2017/06/25/simple-time-maps/</guid>
      </item>
    
      <item>
        <title>The Beauty of Syntactical Macros</title>
        <description>&lt;p class=&quot;post-intro&quot;&gt;
On the importance of code as first class citizen after my first got it moment
with a Lisp.
&lt;/p&gt;
&lt;!--more--&gt;

&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;I&lt;/span&gt;f you think about it, most of what we communicate
can be compiled down to something that is quite &lt;em&gt;literal&lt;/em&gt;, which is to say that
a Hollywood AI robot
(like &lt;a href=&quot;http://terminator.wikia.com/wiki/T-800_(The_Terminator)&quot;&gt;T-800&lt;/a&gt;) can read
and understand it mechanically using no more than a dictionary for reference.
For example, when we say&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;My dog is a cheetah&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;in a literal sense, all we mean is&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;My dog runs very fast&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Sometimes the transformation is not so direct and we need more context or
language training to convert it to a &lt;em&gt;literal&lt;/em&gt; form. An example is the
following:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;When an elephant is in trouble even a frog will kick him.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;What do we get from these transformations? Occasionally a shorter
representation, specially when they exploit the context. Sometimes its a simple
meaning but with more weight. Sometimes its an indirect way of saying something
to change the flow of emotions. All in all we can agree that they are elegant
rhetorical devices and have a deeper connections with how we communicate and how
our mind evaluates these tiny vagaries.&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;literal&lt;/em&gt; meaning is what we, as humans, can use (mostly) without ambiguity.
Considering this as the
final &lt;a href=&quot;https://www.wikiwand.com/en/Abstract_syntax_tree&quot;&gt;AST&lt;/a&gt;, the
transformations mentioned above are more than &lt;code class=&quot;highlighter-rouge&quot;&gt;function&lt;/code&gt; calls, which can be
seen as lookups in some instruction manual. These are more akin to Lisp style
&lt;code class=&quot;highlighter-rouge&quot;&gt;macros&lt;/code&gt;.&lt;/p&gt;

&lt;h1 id=&quot;expressing-programs&quot;&gt;Expressing programs&lt;/h1&gt;

&lt;p&gt;A programming language allows a really constrained form of expression and so
(fortunately) it needs lesser training to understand a chunk of &lt;em&gt;rhetorical
code&lt;/em&gt;, if there is one. There is a limit to how much a programmer can let
his/her words fly without breaking the intended low level syntax tree. But that
limit definitely is above what I have hit, until now.&lt;/p&gt;

&lt;p&gt;I have been playing with &lt;a href=&quot;https://github.com/hylang/hy&quot;&gt;Hy&lt;/a&gt;, which is a Lispy
dialect of Python, recently and started using macros. Put simply, they transform
code to code. The input form usually is something we intend to write, the output
being something the computer could understand. An example follows. Forget about
the visual clutter if you are &lt;em&gt;not familiar&lt;/em&gt;
with &lt;a href=&quot;https://en.wikipedia.org/wiki/S-expression&quot;&gt;&lt;em&gt;s-expressions&lt;/em&gt;&lt;/a&gt; in Lisp and
just go through the words, nesting and order.&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;defmacro&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;query-list&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;[return-cond&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;source-list&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;check-cond&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;item]&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&quot;SQL-ish query on list&quot;&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;try&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;[item-index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;[it]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;~check-cond&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;~source-list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;~item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;[it]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;~return-cond&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;nth&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;~source-list&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;item-index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;except&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;[ValueError]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;aside&gt;
  &lt;p&gt;Lisp code is represented as a list of items (possibly recursive) which can be
interpreted both as data and code. When interpreted as data, they refer to
themselves, when interpreted as code, the first item is something (a function,
macro) to be applied on the rest.&lt;/p&gt;
&lt;/aside&gt;

&lt;p&gt;Also forget about the dummy variables (&lt;code class=&quot;highlighter-rouge&quot;&gt;from&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;where&lt;/code&gt; ) and hygiene (I am
capturing &lt;code class=&quot;highlighter-rouge&quot;&gt;it&lt;/code&gt;) if you &lt;em&gt;are familiar&lt;/em&gt; with Lisp. For reference, here is a
roughly equivalent code in Python for the code generated by that macro (forget
representing this
as
&lt;a href=&quot;https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions&quot;&gt;list comprehension&lt;/a&gt; for
a while, because its not about a specific language feature but how &lt;em&gt;easily&lt;/em&gt; we
can add another, possibly specific, feature):&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;item_index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;check_cond&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;source_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;return_cond&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;source_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item_index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;except&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ValueError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;What do I get from this macro? Here is a simple piece which uses this:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;query-list&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;dodo&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;it.name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;animals&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;it.extinction&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;1660s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Just by looking at it, you can sort of see what it is intended for. Indeed this
is a variant of list comprehension. When I was working on the code that needed
this construct, I was thinking of &lt;em&gt;something&lt;/em&gt; on the lines of the above example
in my mind. Usually, that &lt;em&gt;something&lt;/em&gt; would have gotten converted to a function
representation which would have a certain set of sensibly arranged and named
arguments. But now that I have seen the above &lt;em&gt;valid&lt;/em&gt; form, I dont think a
function would have done justice to the exact &lt;em&gt;expression&lt;/em&gt; in my mind and
wouldnt have been that flexible in its usage.&lt;/p&gt;

&lt;p&gt;Another example is with the case of &lt;a href=&quot;http://docopt.org/&quot;&gt;docopt&lt;/a&gt; based argument
parsing. &lt;em&gt;Docopt&lt;/em&gt; allows you to write human readable usage instructions for a
command line tool and parses it to a structure we can use in our program.
Although the arguments passed into the command line can be structured in a
nested way, the parsed dictionary returned by &lt;code class=&quot;highlighter-rouge&quot;&gt;docopt&lt;/code&gt; is flat. Consider a
program with usage instruction like the following (items separated by &lt;code class=&quot;highlighter-rouge&quot;&gt;|&lt;/code&gt; are
two options for representing the same thing):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;program task (sub-task-one | sto)
program task (sub-task-two | stt)
program task-two
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;After parsing the arguments, docopt gives a dictionary like so:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;task&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;sub-task-one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;sub-task-two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;sto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;stt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;task-two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Now checking for the values mean using &lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt;s &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;else&lt;/code&gt;s. Many times its trivial.
Sometimes the nesting can go deep and it becomes messier. When we &lt;em&gt;think&lt;/em&gt; about
what to do with these arguments, we think in terms of what each possible
combination is going to do. We think about doing something when we get &lt;code class=&quot;highlighter-rouge&quot;&gt;task&lt;/code&gt;
AND (&lt;code class=&quot;highlighter-rouge&quot;&gt;sub-task-one&lt;/code&gt; OR &lt;code class=&quot;highlighter-rouge&quot;&gt;sto&lt;/code&gt;). Can we directly expose this to our program so
that its readable? Surely, we could do&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;task&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sub-task-one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]):&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This approach does more than nesting &lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt;s because the first test
(&lt;code class=&quot;highlighter-rouge&quot;&gt;args[&quot;task&quot;]&lt;/code&gt;) is happening many times, but lets not worry about that since
its not really a heavy computation. There is a repeating pattern here of
&lt;code class=&quot;highlighter-rouge&quot;&gt;args[&quot;&amp;lt;&amp;gt;&quot;]&lt;/code&gt;. Repeated patterns are good for machines, but not for us. Its not
that this tiny piece is hurting the readability, its just that I didnt think
about this thing in my mind while planning to code. This thing actually came in
when I did the transformations from my plan to a computer acceptable construct.
Can we get rid of this then? A quick and simple fix is the following:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;check_args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;task&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sub-task-one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;sto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]):&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;What the function &lt;code class=&quot;highlighter-rouge&quot;&gt;check_args&lt;/code&gt; does is to collect all the parameters after
&lt;code class=&quot;highlighter-rouge&quot;&gt;args&lt;/code&gt; and put them in a list (call it &lt;code class=&quot;highlighter-rouge&quot;&gt;*argv&lt;/code&gt;). Each of the items in that list
is considered to be joined by &lt;code class=&quot;highlighter-rouge&quot;&gt;AND&lt;/code&gt;s and the next level of nesting is joined by
&lt;code class=&quot;highlighter-rouge&quot;&gt;OR&lt;/code&gt;s. These computations are done by &lt;code class=&quot;highlighter-rouge&quot;&gt;getting&lt;/code&gt; the corresponding value of the
string (the key) from &lt;code class=&quot;highlighter-rouge&quot;&gt;args&lt;/code&gt; dictionary. This is fine. Probably will need some
level of familiarity with the usage but its okay for this trivial case. What
about a deeper level of argument nesting? In that case, for each list at any
level, we could add a string representing the operation to apply on the list
like &lt;code class=&quot;highlighter-rouge&quot;&gt;and&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;or&lt;/code&gt;. For more complex transformations and when the arguments are
not just boolean, instead of adding a string, we can just pass a function like
the following:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;check_args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;task&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;func2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;subtask&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;st&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]):&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;See whats happening here? Our arguments are slowly beginning to take form of
code themselves. Nothing wrong in that. But this is not really natural for
Python and it looks out of place from the rest of the code as it needs a
different mental model of whats happening here. Consider the same as a macro in
Hy:&lt;/p&gt;

&lt;div class=&quot;language-common-lisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;check-args&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;func1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;task&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;func2&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;subtask&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;st&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The macro is also doing the same transformation of replacing the strings with a
&lt;code class=&quot;highlighter-rouge&quot;&gt;getter&lt;/code&gt; corresponding to the dictionary &lt;code class=&quot;highlighter-rouge&quot;&gt;args&lt;/code&gt;, which is something like &lt;code class=&quot;highlighter-rouge&quot;&gt;(get
args &quot;string&quot;)&lt;/code&gt;. But its doing nothing other than that. Just like I &lt;em&gt;thought&lt;/em&gt;
about the transformation. My first thought was to just run &lt;code class=&quot;highlighter-rouge&quot;&gt;(func1 &quot;task&quot; (func
&quot;subtask&quot; &quot;st&quot;))&lt;/code&gt; by using &lt;code class=&quot;highlighter-rouge&quot;&gt;args&lt;/code&gt; as the context for interpreting the strings.
This is not so in the case of a function. The mental model here is simpler
because there is essentially just one, viz. of &lt;em&gt;s-expressions&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;The point is this, programming involves transforming our thoughts to code
constructs and then writing them. Occasionally the output of our transformations
get slightly messy and its feels bad to keep repeating the transformations.
Making functions first class citizen puts us one level up while doing these
transformations. Making code itself first class citizen puts us even higher.
Considering you dont actually think in Python and are transforming your plain
thoughts to code, the transformations like in the examples shown above are not
at all natural to the approach of &lt;em&gt;just&lt;/em&gt; writing functions. Using
&lt;em&gt;s-expressions&lt;/em&gt; we get a sweet spot of representation between what is
sufficiently high level and what is understandable by a computer and allows us
this syntactical freedom which is immensely beautiful to peruse, like a
rhetorical device.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;You shouldnt write a newspaper with poetic constructs because not everyone is
looking to untangle a string of pearls every morning, however beautiful they
might be. Reading a newspaper is not exactly &lt;em&gt;reading&lt;/em&gt; as in &lt;em&gt;joyfully
devouring words&lt;/em&gt;, its more of an information gathering mechanism and will go
out of fashion if we invent something like an &lt;em&gt;information&lt;/em&gt; drink.&lt;/p&gt;

&lt;p&gt;There is a certain reason I wasnt seeing the importance of syntactical macros
and it is the same reason non-standard constructs are avoided in popular
programs. Probably its the same reason it will never be in popular usage for
specific domains. A domain has certain needs which, when satisfied, remove the
need of syntactical extensibility. SQL queries wont be replaced by Lisp because
if you are going to recreate SQL syntax with Lisp, why even bother with the
switch in the first place? Its only when you crave for extensibility, which is
not very often in practical cases, does it actually reveals its true beauty.&lt;/p&gt;

&lt;figure&gt;&lt;img src=&quot;https://imgs.xkcd.com/comics/lisp_cycles.png&quot; /&gt;&lt;figcaption&gt;
    &lt;p&gt;&lt;a href=&quot;https://xkcd.com/297/&quot;&gt;xkcd 297&lt;/a&gt;&lt;/p&gt;
  &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;The most popular languages are the ones with most set standards, certain
important constraints and a lot of directly visible applications (not implying
causality of the opposite side) and they keep gaining traction since its easier
to get started and get going. To focus on the real problem we are solving. But
sometimes, its good to just lay back and play around with the words till they
entertain us on a very personal level. None of what I said is something new
which others havent already said about Lisp. The new thing, is just my personal
realization of these facts. I dont actually believe now that I am seeking
anything like performance (&lt;code class=&quot;highlighter-rouge&quot;&gt;Hy&lt;/code&gt; has certain overheads, although &lt;code class=&quot;highlighter-rouge&quot;&gt;common-lisp&lt;/code&gt; is
crazy fast if used properly) or better productivity (though this is looking like
a very visible long term side effect) with any of the Lisp variants I am
using/going to use but just pure beauty. Probably it will stay that way for a
long time.&lt;/p&gt;
</description>
        <pubDate>Mon, 15 May 2017 00:00:00 -0400</pubDate>
        <link>https://lepisma.github.io//2017/05/15/syntactical-macros/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2017/05/15/syntactical-macros/</guid>
      </item>
    
      <item>
        <title>Projects</title>
        <description>&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;M&lt;/span&gt;y lists of &lt;em&gt;things-to-do&lt;/em&gt; have been monotonically
increasing since the time I started maintaining such lists. There are
many plans to execute, things to learn and ideas to explore. Around last week or
so, I found this pretty relatable post on Reddit.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://www.reddit.com/r/ProgrammerHumor/comments/5x64jl/oh_look_a_new_project_idea/?ref=share&amp;amp;ref_source=embed&quot;&gt;Oh look, a new project
idea!&lt;/a&gt;&lt;/p&gt;
  &lt;footer&gt;
    &lt;p&gt;from &lt;a href=&quot;http://www.reddit.com/r/ProgrammerHumor&quot;&gt;/r/ProgrammerHumor&lt;/a&gt;&lt;/p&gt;
  &lt;/footer&gt;
&lt;/blockquote&gt;

&lt;p&gt;Seeing myself out there, its important to know what makes me jump &lt;em&gt;off&lt;/em&gt; from or
&lt;em&gt;into&lt;/em&gt; and idea. I believe I have seen two kinds of works. The first type has
something in the details that touches you. Something that comes after you start
working on it. An &lt;em&gt;in-chore&lt;/em&gt; challenge that stimulates. Many of these are things
you do for a living or something that you &lt;em&gt;have to do&lt;/em&gt;. The second type touches you
directly on a more personal level. All your personal projects which start with a
&lt;em&gt;this will be pretty slick&lt;/em&gt; realizations come here.&lt;/p&gt;

&lt;p&gt;To start with, the first type tasks usually come with implicit deadlines
and are usually well structured in the sense that you can take 10 minutes and
lay out a solid execution plan for the next 10 hours of work time. This results
in a direct point of entry, either the deadline, or the concrete plan. The
second type pulls you in because of its personal appeal.&lt;/p&gt;

&lt;p&gt;As far as turn offs are considered. The first type, being drier to you as a
whole, just needs a &lt;em&gt;nothing stimulating left to do&lt;/em&gt; state. For the second
one, the appeal gets attenuated and the starting realization starts to look
meager in magnitude than a &lt;em&gt;newer&lt;/em&gt; idea. Both of these deteriorate the overall
quality of outcome. In first case its because the work is mostly done near deadline.
In second, its because no real progress is actually made. This cycle moves round
and round and nothing much happens in general, even with all the lists stripped
naked. This phase of indecision goes on for days with me. Hand waving at things
without actually touching them. More touchpad than keyboard.&lt;/p&gt;

&lt;h1 id=&quot;micro-tasks&quot;&gt;Micro tasks&lt;/h1&gt;

&lt;p&gt;A possibly promising way is to knit a tiny list of &lt;em&gt;micro tasks&lt;/em&gt; for tomorrow
with some quick and concrete steps to be taken for certain works. This will let
me start off by getting in the working cycle and will keep indecision at bay.
For the first type, this will keep the lamp lit. There is something to do so I
dont &lt;em&gt;get out of it&lt;/em&gt; and then stay sulky for weeks. Also, the final output would
be a result of thoughts spread out over a longer period of time than last few
days of the checkpoints. For second type, a tiny list reinforces the idea by
making it more real. Hitting the real issues while actually working on something
is not encouraging. The time that goes in making the list doesnt get counted
towards a burnout and shapes the project in a better way, incrementally.&lt;/p&gt;

&lt;p&gt;I have started to manage my lists in separate &lt;em&gt;agenda views&lt;/em&gt; these days. There
are stuck projects, which dont have any &lt;code class=&quot;highlighter-rouge&quot;&gt;TODO&lt;/code&gt; state associated with them.
These need a little bit of planning to pry out a few well defined &lt;code class=&quot;highlighter-rouge&quot;&gt;TODOs&lt;/code&gt;. These
are defined by &lt;code class=&quot;highlighter-rouge&quot;&gt;org-stuck-projects&lt;/code&gt; as (skipping &lt;code class=&quot;highlighter-rouge&quot;&gt;active&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;micro&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;old&lt;/code&gt; tags):&lt;/p&gt;

&lt;div class=&quot;language-elisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;;; Avoid duplicating micros&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;setq&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;org-tags-exclude-from-inheritance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;micro&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;;; Define stuck projects&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;setq&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;org-stuck-projects&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;+LEVEL=1/-DONE&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;active&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;micro&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;old&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Further, &lt;code class=&quot;highlighter-rouge&quot;&gt;org-agenda-custom-commands&lt;/code&gt; allows creating a dashboard for these
lists. For projects (key &lt;code class=&quot;highlighter-rouge&quot;&gt;p&lt;/code&gt;), I am interested in the micro tasks, the usual
&lt;code class=&quot;highlighter-rouge&quot;&gt;TODOs&lt;/code&gt;, all the currently active (being touched recently) 5-10 projects, the
ones which dont have a defined way out (&lt;code class=&quot;highlighter-rouge&quot;&gt;stuck&lt;/code&gt;) and the ones which are too
old. Translating to custom agenda commands, these go like:&lt;/p&gt;

&lt;div class=&quot;language-elisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;setq&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;org-agenda-custom-commands&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;n&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Main agenda with micro tasks&quot;&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tags&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;micro&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-overriding-header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Micro tasks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;agenda&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;p&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Projects to work on&quot;&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tags&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;micro&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-files&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;user-project-files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-overriding-header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Micro tasks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;todo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;TODO&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-files&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;user-project-files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-overriding-header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Tasks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tags&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;active&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-files&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;user-project-files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-overriding-header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Active projects&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;stuck&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-files&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;user-project-files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-overriding-header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Needs action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tags&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;old&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-files&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;user-project-files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-overriding-header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Too old&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;d&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Upcoming deadlines&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;agenda&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
         &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-entry-types&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:deadline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-deadline-warning-days&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-time-grid&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;org-agenda-overriding-header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Upcoming deadlines&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The plan is to start with &lt;code class=&quot;highlighter-rouge&quot;&gt;micro&lt;/code&gt; tasks, move onto usual &lt;code class=&quot;highlighter-rouge&quot;&gt;TODOs&lt;/code&gt; and cycle stuck
projects under &lt;code class=&quot;highlighter-rouge&quot;&gt;active&lt;/code&gt; to keep everything fresh.&lt;/p&gt;

&lt;p&gt;This should work better. Probably.&lt;/p&gt;
</description>
        <pubDate>Wed, 15 Mar 2017 00:00:00 -0400</pubDate>
        <link>https://lepisma.github.io//2017/03/15/projects/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2017/03/15/projects/</guid>
      </item>
    
      <item>
        <title>Optional typing</title>
        <description>&lt;p class=&quot;post-intro&quot;&gt;
My experiences with static type checking. More specifically, I try to argue
how a dynamic typed language can get help from optional (gradual) typing
using mypy as example.
&lt;/p&gt;
&lt;!--more--&gt;

&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;I&lt;/span&gt; recently
tried &lt;a href=&quot;https://www.typescriptlang.org/&quot;&gt;TypeScript&lt;/a&gt; for a project. Essentially,
it is a &lt;a href=&quot;https://en.wikipedia.org/wiki/Gradual_typing&quot;&gt;gradually typed&lt;/a&gt; superset
of JavaScript. Originally intended for learning, the switch immediately felt
empowering. Not that TypeScript is necessarily better (havent used it enough to
say that) but for a long time python user like me, (pushed) optional type
annotations is refreshing.&lt;/p&gt;

&lt;p&gt;Python is one of the popular dynamic typed languages. Not specifying data types
like &lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt; allows for simpler programming and faster prototyping,
making it easy to learn. Its not just about being simple
though, &lt;a href=&quot;https://en.wikipedia.org/wiki/Duck_typing&quot;&gt;duck typed&lt;/a&gt; languages have
their share of benefits which are regularly exploited by the users.&lt;/p&gt;

&lt;p&gt;Recent python versions have been pushing through a new change. Python now
provides type hinting support using a now
stable &lt;a href=&quot;https://docs.python.org/3.6/library/typing.html#module-typing&quot;&gt;typing&lt;/a&gt;
module. I never really cared about types in Python because, well, thats what I
probably have been avoiding by using Python all along. But this is slowly
changing as I use static typing more and more.&lt;/p&gt;

&lt;h1 id=&quot;reading-your-own-code&quot;&gt;Reading your own code&lt;/h1&gt;

&lt;p&gt;I enjoy cricket and Emacs. So wrote up a
package, &lt;a href=&quot;https://github.com/lepisma/cricbuzz.el&quot;&gt;cricbuzz.el&lt;/a&gt;, for displaying
cricket scores in Emacs. It basically is a web scraper
for &lt;a href=&quot;https://www.cricbuzz.com/&quot;&gt;cricbuzz.com&lt;/a&gt;. Occasionally, there are changes
to the web page structure and I have to do a little bit of tweaking.
It was broken recently and I had to fix it a few months back. Here is one of the
changes I did&lt;/p&gt;

&lt;div class=&quot;language-elisp highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;let*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;header-node&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;data-nodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt;         &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;col-size&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;header-node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;-&lt;/span&gt;         &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;row-nodes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cdr&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;data-nodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;let*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;header-node&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;second&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;data-nodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt;         &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;col-size&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;-remove-item&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;header-node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;+&lt;/span&gt;         &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;row-nodes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cdr&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cdr&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;data-nodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;I dont know what changed in the variable &lt;code class=&quot;highlighter-rouge&quot;&gt;data-nodes&lt;/code&gt;. Dont even know what it
holds. The only thing I know is that it contains html elements parsed to
form S-expressions and contains structured data scraped from the website.
The fix works for now but this thing will bug me badly again when something
changes. Knowing that enforcing a structure in html is hard, the point here is that it is
important to know what the symbols contain in your code. This is really helpful
for maintaining the code over a long period of time, or when there are too many
pieces to keep track of.&lt;/p&gt;

&lt;p&gt;There are two things really that are usually done to solve these issues:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Documenting functions, variables&lt;/li&gt;
  &lt;li&gt;Using helpful names&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Helpful names are helpful. But they can get weird. There are understandable
limits to them. Documentations, specially function docs are more helpful.
Usually you add data types for the arguments in the docstring too. Like this
(numpy style):&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;noot_noot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pingu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_noots&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;
    
    Parameters
    ----------
    pingu : Pingu
        A pingu object
    n_noots : int
        Number of times to noot
    &quot;&quot;&quot;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This helps in knowing what is going to happen in the function. This also gets
parsed by a documentation generator
like &lt;a href=&quot;http://www.sphinx-doc.org/en/stable/&quot;&gt;sphinx&lt;/a&gt; so the types specified in
here end up being useful. But they still are pretty passive. There is no way
anyone could stop you from writing this&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;noot_noot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pingu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Not until runtime that is.&lt;/p&gt;

&lt;p&gt;Notice the function again. The definition line itself is pretty much self
explanatory (thanks to variable naming). There are many similar cases in
practice which need &lt;em&gt;just a little bit&lt;/em&gt; of hint about data types to clarify their
tasks. Type hinting fills in this sweet spot and at the same time flags logical
bugs like passing &lt;code class=&quot;highlighter-rouge&quot;&gt;float&lt;/code&gt; where &lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt; is expected.&lt;/p&gt;

&lt;h1 id=&quot;type-hinting&quot;&gt;Type Hinting&lt;/h1&gt;

&lt;p&gt;Type hinting is the idea of adding annotations about data type for variables,
function arguments etc. These are usually parsed and checked before runtime
and usually are similar in spirit to something like automatic spell-checkers.
Doing this helps in marking inconsistencies in variables which flow around here
and there. I came to know about type hinting from JavaScript. There
is &lt;a href=&quot;https://flowtype.org/&quot;&gt;flow&lt;/a&gt; which lets you add hints in plain JS without
much intrusion and strip them off using something
like &lt;a href=&quot;https://flowtype.org/docs/running.html&quot;&gt;babel&lt;/a&gt; in the compilation step.&lt;/p&gt;

&lt;p&gt;Here is a sample taken from flows homepage.&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// @flow&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Hello, world!'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You drop hints when needed and running &lt;code class=&quot;highlighter-rouge&quot;&gt;flow&lt;/code&gt; gives you the error it detects&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;3:   return x.length;
            ^^^^^^^^ number. This type is incompatible with the expected return type of
2: function bar(x): string {
                    ^^^^^^ string
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then there is TypeScript which behaves more like a superset of JS but with
the same idea. Your development process gets assisted by static types and then
the code gets converted to plain JS and runs &lt;em&gt;like a duck&lt;/em&gt;.&lt;/p&gt;

&lt;h1 id=&quot;mypy&quot;&gt;mypy&lt;/h1&gt;

&lt;p&gt;Although not that popular, Python has in-language support for adding type hints
which can be checked by something like &lt;a href=&quot;http://mypy-lang.org/&quot;&gt;mypy&lt;/a&gt;. What this
means for our example is that you could do something like the following:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;noot_noot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pingu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Pingu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_noots&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
    
&lt;span class=&quot;n&quot;&gt;noot_noot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pingu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This time, running mypy gives the following:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Argument 2 to &quot;noot_noot&quot; has incompatible type &quot;float&quot;; expected &quot;int&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Running this code itself will not give any error if there is nothing in
&lt;code class=&quot;highlighter-rouge&quot;&gt;noot_noot&lt;/code&gt; which relies on &lt;code class=&quot;highlighter-rouge&quot;&gt;n_noots&lt;/code&gt; not being a float (for example
&lt;code class=&quot;highlighter-rouge&quot;&gt;range(n_noots)&lt;/code&gt;). This is &lt;em&gt;just&lt;/em&gt; handy for something as trivial as this. But
gets really useful when you have a lot of structured data going in and out of
things.
The &lt;a href=&quot;https://docs.python.org/3/library/typing.html#module-typing&quot;&gt;typing&lt;/a&gt; module
provides many primitives to build tailored types. For example, if my program
works with geographical coordinates (a pair of numbers) of cities (string), I
could do something like the following:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;typing&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Tuple&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;Coordinate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Tuple&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;minimum_trip_distance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Coordinate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Notice the nice name of the type which helps in identifying the associated
object. We know whenever there is &lt;code class=&quot;highlighter-rouge&quot;&gt;Coordinate&lt;/code&gt; that its going to be pair of
floats and not
more. mypys support for types can be seen in
its &lt;a href=&quot;http://mypy.readthedocs.io/en/latest/kinds_of_types.html&quot;&gt;doc&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here are a few reasons other than the already helpful type checking to use these
hints:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Its not really much to write and actually saves keystrokes as compared to
writing unnecessary and passive documentation strings.&lt;/li&gt;
  &lt;li&gt;It avoids runtime overheads as compared to defining a logical type using a
dummy class.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There are concerns about the readability of code as such when using hints as it
goes against pythons philosophy. I feel like readability should not be judged
by how it looks to a non-programmer but to a python programmer. Its easier for
me to read that a function takes coordinates (which is known to be a pair of numbers
since I decided to read the code dealing with geography) rather than an argument
described solely by its name and / or docstring.&lt;/p&gt;

&lt;h1 id=&quot;keeping-it-optional&quot;&gt;Keeping it Optional&lt;/h1&gt;

&lt;p&gt;Typing is something that feels like it comes attached with performance benefits.
But using mypy for around a month now has convinced me that just the
documentation part is reason enough to use it here and there. It helps keep
track of tiny things like whether I am passing &lt;code class=&quot;highlighter-rouge&quot;&gt;str&lt;/code&gt; or a &lt;code class=&quot;highlighter-rouge&quot;&gt;stream&lt;/code&gt; when a
function works on a file. This itself has reduced the load on variable naming
for me a lot. Also, if you are not writing a hackish script, it does help to put
barriers at places to frame the program.&lt;/p&gt;

&lt;p&gt;Most importantly, it really is non-intrusive and purely optional. You could use
hints wherever needed and skip where is it unnecessary and verbose (though I am
not sure if this is a recommended practice).&lt;/p&gt;

&lt;h1 id=&quot;final-thoughts&quot;&gt;Final thoughts&lt;/h1&gt;

&lt;p&gt;Static type checking in python is not &lt;em&gt;that&lt;/em&gt; popular as compared to JS.
But JS community is particularly
&lt;a href=&quot;https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f#.yehrvien7&quot;&gt;well known&lt;/a&gt; to
quickly get hands on new technologies. The python community is somewhat
different. The users have different expectations from the language and the
language has molded itself to be easy for the users. To elaborate on this: you
wont
see &lt;a href=&quot;https://docs.python.org/3/whatsnew/3.6.html#whatsnew36-pep498&quot;&gt;f-strings&lt;/a&gt;
getting hugely popular right away because:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the users dont care about it if the older ways are working (&lt;code class=&quot;highlighter-rouge&quot;&gt;format()&lt;/code&gt; or
similar in this case)&lt;/li&gt;
  &lt;li&gt;packages / libraries supporting &lt;a href=&quot;https://babeljs.io/&quot;&gt;babel&lt;/a&gt;-ish ideas are not
that common to find in python. Even if you are &lt;em&gt;living on the edge&lt;/em&gt; kind of
person, you cant just go on your way that easily. (Though I would blame the
v2-v3 divide for this)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Other than that, support for 3rd party modules is not that extensive as of now.
There is &lt;a href=&quot;https://github.com/python/typeshed/&quot;&gt;typeshed&lt;/a&gt; but doesnt compare to
something
like &lt;a href=&quot;https://github.com/DefinitelyTyped/DefinitelyTyped&quot;&gt;DefinitelyTyped&lt;/a&gt;. But
this really is a reflection of how popular type hinting is. If not many are
going to use it, there will always be lesser stubs in there.&lt;/p&gt;

&lt;p&gt;Of course your IDE / editor needs to support on-the-fly type checking to actually
be helpful. Emacs has &lt;a href=&quot;http://www.flycheck.org/en/latest/&quot;&gt;flycheck&lt;/a&gt; which has an
&lt;a href=&quot;https://github.com/lbolla/emacs-flycheck-mypy&quot;&gt;extension&lt;/a&gt; for adding mypy as a
checker. PyCharm
also
&lt;a href=&quot;https://www.jetbrains.com/help/pycharm/2016.3/type-hinting-in-pycharm.html&quot;&gt;supports&lt;/a&gt; it.&lt;/p&gt;
</description>
        <pubDate>Sun, 05 Mar 2017 00:00:00 -0500</pubDate>
        <link>https://lepisma.github.io//2017/03/05/optional-typing/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2017/03/05/optional-typing/</guid>
      </item>
    
      <item>
        <title>Cheap polyglot notebooks</title>
        <description>&lt;p class=&quot;post-intro&quot;&gt;
As compared to json based jupyter notebooks, Emacs org-mode provides a much more
readable and lighter notebook with multiple language support using org-babel.
Just like RMarkdown, but in Emacs.
&lt;/p&gt;
&lt;!--more--&gt;

&lt;p&gt;&lt;span class=&quot;dropcap&quot;&gt;R&lt;/span&gt;Studio v1.0
is &lt;a href=&quot;https://blog.rstudio.org/2016/11/01/announcing-rstudio-v1-0/&quot;&gt;released&lt;/a&gt;. One
of the key features is
the &lt;a href=&quot;http://rmarkdown.rstudio.com/r_notebooks.html&quot;&gt;notebook&lt;/a&gt;. Yes, there is
a &lt;a href=&quot;https://irkernel.github.io/&quot;&gt;Jupyter kernel&lt;/a&gt; for R, but this is probably
going to be much better.&lt;/p&gt;

&lt;p&gt;The idea of having interactive notebooks is not really new. Mathematica had it
before I was born or something. IPython and then Jupyter
brought these to the mainstream. Now almost every product on these lines have great
many features including cool visualization support, multiple kernels (many in
the same notebook) etc. You have some big products
like
&lt;a href=&quot;http://beakernotebook.com/&quot;&gt;beaker&lt;/a&gt;, &lt;a href=&quot;https://zeppelin.apache.org/&quot;&gt;zeppelin&lt;/a&gt;
and of course &lt;a href=&quot;https://jupyter.org/&quot;&gt;Jupyter&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Everything is fine. But I dont particularly enjoy it when I accidently open a
notebook in my editor and its a mess of JSON waiting to force me into believing
that its just a set of simple scripts I wrote to do something much simpler
than&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;working interactively with large and complex datasets&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;http://rmarkdown.rstudio.com/&quot;&gt;R Markdowns&lt;/a&gt; shine here. They are by default
cleaner to read. So thats a plus. What else do you need? Well, R is not a
general purpose language. Neither is python good for everything. A notebook
supporting multiple languages? That will work. But then they are too heavy to
open up everything and get going. Honestly, they are not targeting your tiny
scripts crossing and piping data over language barriers to make sense of your
local files or sating your fussiness for
using &lt;a href=&quot;http://docs.python-requests.org/en/master/&quot;&gt;requests&lt;/a&gt;
over &lt;a href=&quot;https://github.com/request/request&quot;&gt;request&lt;/a&gt;. Notebooks simply have great
overheads for small experiments with random jumble of scripts.&lt;/p&gt;

&lt;h1 id=&quot;org-babel&quot;&gt;Org-babel&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;http://orgmode.org/worg/org-contrib/babel/&quot;&gt;Org-babel&lt;/a&gt; is
an &lt;a href=&quot;http://orgmode.org/&quot;&gt;Org-mode&lt;/a&gt; thing for running chunks of code in Org
files. You could add language chunks, like in R Markdowns, and execute those with
optional shared sessions or variable passing. So, for example, you could get
around with your &lt;em&gt;ggplot envy&lt;/em&gt; while using Python
(at least until &lt;a href=&quot;https://github.com/altair-viz/altair&quot;&gt;altair&lt;/a&gt; goes on big).
Anyways, the point is not heavy plotting (those are much better on web based
UIs), its the speed with which you can play around with your ideas inside org
files.&lt;/p&gt;

&lt;p&gt;You could use JS, Python and other languages with great packages and weave them
with your writings or class notes in Org with &lt;script type=&quot;math/tex&quot;&gt;\LaTeX&lt;/script&gt;. Additionally, being
inside Emacs, you could exploit Emacs lisp and Org to have cool side effects with
ease. For example, shifting your scheduled tasks depending on weather gathered
using python requests. Obviously there are other ways. Get data with Elisp
itself, or use something like &lt;a href=&quot;https://github.com/bjonnh/PyOrgMode&quot;&gt;PyOrgMode&lt;/a&gt;.
But you might really love &lt;em&gt;requests&lt;/em&gt; for http things and want to use Emacs
buffer manipulation for writing to files. And you might want this weather
dependent org agenda file to be self contained. Or you are of the other
type and might be okay with firing up (or planning to) different processes and
piping everything externally.&lt;/p&gt;

&lt;p&gt;I recently started trying out Babel for some of the use cases involving
web-scraping, some &lt;em&gt;pythonish&lt;/em&gt; things, some directory restructuring and some
planning and writing. As of now, I am really enjoying the neat polyglot
&lt;em&gt;notebookish&lt;/em&gt; properties with great many freedoms for plumbing code with prose.&lt;/p&gt;

&lt;p&gt;Here is a quick preview for generating some results in Python&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#+NAME: chunks&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#+BEGIN_SRC python :results silent&lt;/span&gt;
  &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;requests&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;animals&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;doge&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;moon moon&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;pepe&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;grumpy cat&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;chunks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;animal&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;animals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://google.com/search?q=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;animal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; meme&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;chunks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;animal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chunks&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#+END_SRC&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You have your usual org code block with few specifications (like &lt;code class=&quot;highlighter-rouge&quot;&gt;NAME&lt;/code&gt; for variable
name to be used for the block result). Essentially this snip is counting Google
search hits for [name] meme for different &lt;code class=&quot;highlighter-rouge&quot;&gt;names&lt;/code&gt;. It uses &lt;em&gt;requests&lt;/em&gt; to get
the search results. Now for parsing the HTML element which says something like About
100 results found, lets pass the results to JS&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;NAME&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;counts&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;BEGIN_SRC&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;js&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;chunks&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;babel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;node&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;list&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cheerio&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;cheerio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
                        &lt;span class=&quot;nx&quot;&gt;cheerio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#resultStats&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/,/g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;END_SRC&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;RESULTS&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;counts&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;doge&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;735000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;moon moon&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;3420000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pepe&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;775000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;grumpy cat&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1250000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Nice. It works. We could go back to python and do a frequency plot because we
have problems counting number of zeros.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#+BEGIN_SRC python :var counts=counts :results file :export both&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;seaborn&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sns&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;plt&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;np&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subplots&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figsize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;frequencies&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;counts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;counts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_xticks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ax&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_xticklabels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frequencies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;savefig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;plot.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transparent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;plot.png&quot;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#+END_SRC&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#+RESULTS:&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;png&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;figure&gt;&lt;img class=&quot;zoomTarget&quot; data-closeclick=&quot;true&quot; src=&quot;/images/posts/babel/pyplot.png&quot; /&gt;&lt;figcaption&gt;&lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;There are many languages supported and you have the
usual org structures like tables and lists for mediating chunks. The working
model is really simple. Even the plotting is nothing more than writing to file
and displaying with the usual org-inline image toggle. But, that is
expressive enough. Here is another screen using R and ggplot (plot taken
from &lt;a href=&quot;http://docs.ggplot2.org/0.9.3/stat_binhex.html&quot;&gt;hexbin&lt;/a&gt; example). You
could also put in something weird like C++.&lt;/p&gt;

&lt;figure&gt;&lt;img class=&quot;zoomTarget&quot; data-closeclick=&quot;true&quot; src=&quot;/images/posts/babel/rplot.png&quot; /&gt;&lt;figcaption&gt;&lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;All in all, these files are cheap, readable and usable. Exportable to any format
imaginable. And these integrate deeply with your usual Emacs + Org-mode workflow.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Org files are not the polyglot notebooks. They dont solve everything and of
course not everyone uses Emacs. They are limited in many aspects, for example
visualizations. But they let you do a few things in a &lt;em&gt;notebookish&lt;/em&gt; manner which
would have been a mess otherwise.&lt;/p&gt;

&lt;p&gt;I used to do &lt;em&gt;many&lt;/em&gt; things in Jupyter notebooks before I learned easier
non-python alternatives for quick tasks. Some time after that I switched to
Emacs and realized I dont like editing in browser that much and
the &lt;a href=&quot;https://tkf.github.io/emacs-ipython-notebook/&quot;&gt;ipython-notebook mode&lt;/a&gt; was
not much fun either. Org-babel looks great now. It sits nicely in between and
fills many gaps. In case you are having certain likelihood of getting hooked too,
try these &lt;a href=&quot;https://github.com/dfeich/org-babel-examples&quot;&gt;samples&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.githubusercontent.com/lepisma/6157074b8cec0eecfcc97555ac72289c/raw/ca39f3715b714d28ff138c49946b2188bf00e7f5/ob.org&quot;&gt;Here&lt;/a&gt; is
the notebook I used.&lt;/p&gt;
</description>
        <pubDate>Wed, 02 Nov 2016 00:00:00 -0400</pubDate>
        <link>https://lepisma.github.io//2016/11/02/org-babel/</link>
        <guid isPermaLink="true">https://lepisma.github.io//2016/11/02/org-babel/</guid>
      </item>
    
  </channel>
</rss>
